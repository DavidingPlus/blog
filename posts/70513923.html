<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><script>window.MSInputMethodContext&&document.documentMode&&(window.location.href="https://support.dmeng.net/upgrade-your-browser.html")</script><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/assets/favicon-16x16.webp?v=2.8.6" type="image/png" sizes="16x16"><link rel="icon" href="/assets/favicon-32x32.webp?v=2.8.6" type="image/png" sizes="32x32"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.webp?v=2.8.6" sizes="180x180"><meta name="description" content="cairoæ˜¯ä¸€ä¸ªæ–¹ä¾¿å’Œé«˜æ€§èƒ½çš„ç¬¬ä¸‰æ–¹Cåº“ã€‚å®ƒå¯ä»¥ä½œä¸ºç»˜åˆ¶å¼•æ“ï¼Œå¸®åŠ©æˆ‘ä»¬ç»˜åˆ¶å„ç§å›¾å½¢ï¼Œå¹¶ä¸”æä¾›å¤šç§è¾“å‡ºæ–¹å¼ã€‚æœ¬æ–‡å°†åœ¨Linuxä¸‹ç»“åˆX11å›¾å½¢æ˜¾ç¤ºåè®®ç»˜åˆ¶ç®€å•çš„å›¾å½¢ã€‚ è¿™æ˜¯æ•ˆæœå›¾ï¼š"><meta property="og:type" content="article"><meta property="og:title" content="åœ¨ X11 ä¸‹ä½¿ç”¨ cairo å¼•æ“ç»˜åˆ¶å›¾å½¢"><meta property="og:url" content="https://blog.davidingplus.cn/posts/70513923.html"><meta property="og:site_name" content="DavidingPlus&#39;s Blog"><meta property="og:description" content="cairoæ˜¯ä¸€ä¸ªæ–¹ä¾¿å’Œé«˜æ€§èƒ½çš„ç¬¬ä¸‰æ–¹Cåº“ã€‚å®ƒå¯ä»¥ä½œä¸ºç»˜åˆ¶å¼•æ“ï¼Œå¸®åŠ©æˆ‘ä»¬ç»˜åˆ¶å„ç§å›¾å½¢ï¼Œå¹¶ä¸”æä¾›å¤šç§è¾“å‡ºæ–¹å¼ã€‚æœ¬æ–‡å°†åœ¨Linuxä¸‹ç»“åˆX11å›¾å½¢æ˜¾ç¤ºåè®®ç»˜åˆ¶ç®€å•çš„å›¾å½¢ã€‚ è¿™æ˜¯æ•ˆæœå›¾ï¼š"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/59cb53826fcba1602fd3769171f5f127.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715163723130.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715165238889.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715172400074.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715172916780.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715175839407.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716111623175.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716141915019.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716142350311.png"><meta property="og:image" content="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716155335456.png"><meta property="article:published_time" content="2024-07-02T18:30:00.000Z"><meta property="article:modified_time" content="2024-07-16T16:30:00.000Z"><meta property="article:author" content="DavidingPlus"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.davidingplus.cn/images/2025/02/01/59cb53826fcba1602fd3769171f5f127.png"><title>åœ¨ X11 ä¸‹ä½¿ç”¨ cairo å¼•æ“ç»˜åˆ¶å›¾å½¢ | DavidingPlus's Blog</title><link ref="canonical" href="https://blog.davidingplus.cn/posts/70513923.html"><link rel="dns-prefetch" href="https://cdn.davidingplus.cn"><link rel="stylesheet" href="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/css/fontawesome.css" type="text/css"><link rel="stylesheet" href="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/css/fancybox.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.6"><script>var Stun=window.Stun||{},CONFIG={root:"/",algolia:void 0,assistSearch:["bing","baidu"],fontIcon:{prompt:{success:"fas fa-check-circle",info:"fas fa-arrow-circle-right",warning:"fas fa-exclamation-circle",error:"fas fa-times-circle"},copyBtn:"fas fa-copy"},sidebar:{offsetTop:"55px",tocMaxDepth:6},header:{enable:!0,showOnPost:!0,scrollDownIcon:!0},postWidget:{endText:!0},nightMode:{enable:!0},back2top:{enable:!0},back2bottom:{enable:!0},codeblock:{style:"default",highlight:"light",wordWrap:!0},reward:!0,fancybox:!0,zoomImage:{gapAside:"20px"},galleryWaterfall:{colWidth:"255px",gapX:"65px"},lazyload:!0,pjax:{avoidBanner:!0},externalLink:{icon:{enable:!0,name:"fas fa-external-link-alt"}},shortcuts:void 0,prompt:{copyButton:"å¤åˆ¶",copySuccess:"æ­å–œäº²äº²ï¼Œå¤åˆ¶æˆåŠŸå’§",copyError:"å“å‘€ï¼Œå¤åˆ¶å¤±è´¥äº†"},sourcePath:{js:"js",css:"css",images:"images"},utterancesTheme:{light:"github-light",dark:"photon-dark"}};window.CONFIG=CONFIG</script><meta name="generator" content="Hexo 7.2.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">é¦–é¡µ</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">å½’æ¡£</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">åˆ†ç±»</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return!1"><span class="header-nav-menu-item__icon"><i class="fas fa-bars"></i></span><span class="header-nav-menu-item__text">å…¶ä»–</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/friends/"><span class="header-nav-submenu-item__icon"><i class="fas fa-users"></i></span><span class="header-nav-submenu-item__text">å‹é“¾</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/gallery/"><span class="header-nav-submenu-item__icon"><i class="fas fa-images"></i></span><span class="header-nav-submenu-item__text">ç›¸å†Œ</span></a></div></div></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="fas fa-user"></i></span><span class="header-nav-menu-item__text">å…³äº</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" target="_blank" rel="noopener" href="https://davidingplus.cn/"><span class="header-nav-menu-item__icon"><i class="fas fa-pager"></i></span><span class="header-nav-menu-item__text">ç«™ç‚¹ä¸»é¡µ</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">æœç´¢</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">DavidingPlus's Blog</div><div class="header-banner-info__subtitle">ğŸ•Šï¸ world peace</div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">åœ¨ X11 ä¸‹ä½¿ç”¨ cairo å¼•æ“ç»˜åˆ¶å›¾å½¢</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2024-07-02</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2024-07-16</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">å­—æ•°ç»Ÿè®¡</span><span class="post-meta-item__value">7.3k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">é˜…è¯»æ—¶é•¿</span><span class="post-meta-item__value">56åˆ†</span></span><span class="post-meta-item post-meta-item--visitors"><span class="post-meta-item__icon"><i class="fas fa-eye"></i></span><span class="post-meta-item__info">é˜…è¯»æ¬¡æ•°</span><span class="post-meta-item__value" id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body"><meta name="referrer" content="no-referrer"><p><code>cairo</code>æ˜¯ä¸€ä¸ªæ–¹ä¾¿å’Œé«˜æ€§èƒ½çš„ç¬¬ä¸‰æ–¹<code>C</code>åº“ã€‚å®ƒå¯ä»¥ä½œä¸ºç»˜åˆ¶å¼•æ“ï¼Œå¸®åŠ©æˆ‘ä»¬ç»˜åˆ¶å„ç§å›¾å½¢ï¼Œå¹¶ä¸”æä¾›å¤šç§è¾“å‡ºæ–¹å¼ã€‚æœ¬æ–‡å°†åœ¨<code>Linux</code>ä¸‹ç»“åˆ<code>X11</code>å›¾å½¢æ˜¾ç¤ºåè®®ç»˜åˆ¶ç®€å•çš„å›¾å½¢ã€‚</p><p>è¿™æ˜¯æ•ˆæœå›¾ï¼š</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/59cb53826fcba1602fd3769171f5f127.png" alt="59cb53826fcba1602fd3769171f5f127" style="zoom:67%"> <span id="more"></span><h1 id="å®‰è£…cairoåº“"><a href="#å®‰è£…cairoåº“" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#å®‰è£…cairoåº“"></a> å®‰è£…Cairoåº“</h1><p><code>cairo</code>çš„å®˜æ–¹ç½‘ç«™æ˜¯<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://cairographics.org/">https://cairographics.org</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚ä¸Šé¢å¯¹<code>cairo</code>å›¾å½¢åº“åšäº†ä¸€ä¸ªå®Œæ•´çš„ä»‹ç»ï¼ŒåŒ…æ‹¬å¦‚ä½•ä¸‹è½½ã€<code>API</code>æ¥å£ã€ç¤ºä¾‹ç­‰ç­‰ã€‚</p><h2 id="é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…"><a href="#é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…"></a> é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…</h2><p>é€šè¿‡å®˜æ–¹æ–‡æ¡£çŸ¥é“ï¼Œåœ¨<code>Linux</code>ä¸‹å¯ä»¥ç›´æ¥é€šè¿‡åŒ…ç®¡ç†å™¨è¿›è¡Œä¸‹è½½ï¼Œä»¥<code>Ubuntu</code>ä¸ºä¾‹ã€‚</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install libcairo2-dev</span><br></pre></td></tr></table></div></figure><p>ä¸‹è½½å¥½ä»¥åå¤´æ–‡ä»¶å’ŒåŠ¨æ€åº“å°±å®‰è£…å¥½äº†ã€‚å¤´æ–‡ä»¶å®‰è£…åœ¨<code>/usr/include/cairo/</code>ä¸­ï¼Œé™æ€åº“å’ŒåŠ¨æ€åº“åˆ†åˆ«ä½äº<code>/usr/lib/x86_64-linux-gnu/libcairo.a</code>å’Œ<code>/usr/lib/x86_64-linux-gnu/libcairo.so</code>ã€‚å› æ­¤èƒ½ç›´æ¥è¢«ç³»ç»Ÿè¯†åˆ«ï¼Œç›´æ¥å¼•å…¥å¤´æ–‡ä»¶ï¼Œç¼–è¯‘çš„æ—¶å€™é“¾æ¥<code>cairo</code>åº“å³å¯ã€‚</p><h2 id="é€šè¿‡conanå®‰è£…"><a href="#é€šè¿‡conanå®‰è£…" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#é€šè¿‡conanå®‰è£…"></a> é€šè¿‡Conanå®‰è£…</h2><p>å¯¹äºä¸ªäººè€Œè¨€ï¼Œ<code>apt</code>å®‰è£…è‡ªç„¶æ˜¯éå¸¸å‹å¥½çš„ã€‚ä½†æ˜¯å¯¹äº<code>LarkSDK</code>è¿™æ ·ä¸€ä¸ªé¢å‘ç”¨æˆ·çš„åŸºç¡€æ¡†æ¶è€Œè¨€ï¼Œé™¤éæœ€åŸºæœ¬çš„ç³»ç»Ÿåº“ä¾‹å¦‚<code>X</code>çª—å£ç³»ç»Ÿ<code>libx11-dev</code>ï¼Œ<code>Wayland</code>çª—å£ç³»ç»Ÿ<code>libwayland-dev</code>å’Œ<code>Wayland</code>é”®ç›˜å¤„ç†<code>libxkbcommon-dev</code>ç­‰ï¼Œå…¶ä»–çš„ç¬¬ä¸‰æ–¹åº“å‡æœ€å¥½ä¸ä»¥<code>apt</code>åŒ…çš„æ–¹å¼å¼•å…¥ã€‚é‰´äº<code>C++</code>æ²¡æœ‰è‡ªå·±çš„åŒ…ç®¡ç†å™¨ï¼Œå› æ­¤éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹çš„åŒ…ç®¡ç†å™¨ï¼Œä¾‹å¦‚<code>conan</code>ï¼Œ<code>cpm</code>ç­‰ã€‚æœ¬é¡¹ç›®ä½¿ç”¨<code>conan</code>ç®¡ç†ç¬¬ä¸‰æ–¹åŒ…ã€‚</p><p><code>conan</code>æ˜¯ä¸€ä¸ª<code>python</code>è¯­è¨€ç¼–å†™çš„<code>C++</code>çš„åŒ…ç®¡ç†å™¨ï¼Œå®˜æ–¹ç½‘å€æ˜¯<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://conan.io/">https://conan.io/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚<code>conan</code>ç®¡ç†äº†ä¼—å¤šç¬¬ä¸‰æ–¹çš„<code>C++</code>åº“ï¼Œé€šè¿‡å‘½ä»¤è¡Œæ“ä½œå°±èƒ½æ–¹ä¾¿çš„åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¼•å…¥<code>conan</code>åŒ…ã€‚éœ€è¦é€šè¿‡<code>conanfile.py</code>æˆ–è€…<code>conanfile.txt</code>è¿›è¡Œé…ç½®ï¼Œå½“ç„¶è¿™ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œå…·ä½“è§æ–‡æ¡£<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://docs.conan.io/2/">https://docs.conan.io/2/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚</p><p><code>conan</code>å®˜æ–¹æä¾›äº†è‡ªå·±çš„<code>conan</code>ä»“åº“ï¼Œ<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://conan.io/center">https://conan.io/center</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚åœ¨ä¸Šé¢èƒ½æ‰¾åˆ°å¾ˆå¤šæˆ‘ä»¬ç†ŸçŸ¥çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚<code>gtest</code>ï¼Œ<code>qt</code>ï¼Œ<code>boost</code>ï¼Œ<code>fmt</code>ç­‰ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›æ›´åŸºç¡€çš„å·¥å…·åº“ï¼Œè¿™é‡Œä¸èµ˜è¿°ã€‚å½“ç„¶<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://conan.io/center/recipes/cairo">cairo</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>åº“ä¹Ÿåœ¨å…¶ä¸­ã€‚</p><h3 id="å°è¯•å®‰è£…cairo"><a href="#å°è¯•å®‰è£…cairo" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#å°è¯•å®‰è£…cairo"></a> å°è¯•å®‰è£…Cairo</h3><p>ç°åœ¨è®©æˆ‘ä»¬å°è¯•å®‰è£…<code>cairo</code>åº“å¹¶å°è¯•ç”¨<code>CMake</code>å°†å…¶å¼•å…¥ã€‚åœ¨æ–°å¼€çš„é¡¹ç›®ä¸­åˆ›å»º<code>conanfile.txt</code>ï¼Œå¼•å…¥é¡¹ç›®ä¾èµ–<code>cairo</code>ã€‚ä½¿ç”¨<code>conanfile.py</code>ä¸»è¦ç”¨äºç”Ÿæˆå’Œå‘å¸ƒè‡ªå·±çš„<code>conan</code>åŒ…ï¼Œ<code>conan</code>æä¾›äº†ä¸°å¯Œçš„é€‰é¡¹ä¾›ç”¨æˆ·æ“ä½œã€‚è¿™é‡Œåªæ˜¯ä¸ºäº†æµ‹è¯•ï¼Œå› æ­¤ä½¿ç”¨æœ€ç®€å•çš„<code>conanfile.txt</code>å³å¯ã€‚</p><figure class="highlight ini"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[requires]</span></span><br><span class="line">cairo/1.18.0</span><br><span class="line"></span><br><span class="line"><span class="section">[generators]</span></span><br><span class="line">cmake</span><br></pre></td></tr></table></div></figure><p>ç¼–å†™è‡ªå·±çš„<code>CMakeLists.txt</code>ï¼Œé…ç½®é¡¹ç›®çš„ç›¸å…³ä¿¡æ¯ï¼Œå¼•å…¥<code>conan</code>çš„éƒ¨åˆ†ç±»ä¼¼å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> (<span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>/conanbuildinfo.cmake)</span><br><span class="line">conan_basic_setup (NO_OUTPUT_DIRS)</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_executable</span> (xxx</span><br><span class="line">    ...</span><br><span class="line">)</span><br><span class="line"><span class="keyword">target_link_libraries</span> (xxx <span class="variable">$&#123;CONAN_LIBS&#125;</span>)</span><br></pre></td></tr></table></div></figure><p>ä¹‹åæ‰§è¡Œä¸€èˆ¬çš„æ„å»ºæµç¨‹å³å¯ã€‚</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conan install ..</span><br><span class="line">cmake ..</span><br><span class="line">make <span class="comment"># windows ä¸‹é»˜è®¤æ²¡æœ‰ make å‘½ä»¤ï¼Œä½¿ç”¨ cmake --build ./ ä»£æ›¿</span></span><br></pre></td></tr></table></div></figure><p><code>conan</code>å®˜æ–¹çš„åŒ…å¾ˆå¤šï¼Œå¾ˆå…¨ï¼Œä½†æ˜¯<code>conan</code>æœ¬èº«è¿˜æœ‰å¾ˆå¤š<code>bug</code>ï¼Œå•å°±<code>cairo</code>åŒ…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­å°±æœ‰å¾ˆå¤šé—®é¢˜ã€‚æœ€å…¸å‹çš„ï¼Œæ‰§è¡Œ<code>conan install ..</code>å¯èƒ½ä¼šå¤±è´¥ï¼Œå¹¶ä¸”é‡åˆ°å¾ˆå¤šé”™è¯¯ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦äº†è§£<code>conan</code>åŒ…æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæ‰èƒ½æ˜ç¡®é—®é¢˜æ˜¯å¦‚ä½•å½¢æˆçš„ã€‚</p><h3 id="å…³äºconanåŒ…"><a href="#å…³äºconanåŒ…" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#å…³äºconanåŒ…"></a> å…³äºConanåŒ…</h3><p>ç°åœ¨å¯¹<code>conan</code>åŒ…åšä¸€ä¸ªç®€è¿°ã€‚å¯¹äº<code>C++</code>åº“è€Œè¨€ï¼Œä¸ºäº†è®©ç”¨æˆ·æ–¹ä¾¿çš„ä½¿ç”¨ï¼ŒæŠŠ<code>.h</code>å’Œ<code>.cpp</code>ä»£ç å…¨éƒ¨æ‰“åŒ…å‡ºå»æ˜¯ä¸åˆé€‚çš„ï¼Œè¿™äº›ä»£ç ä¸åº”è¯¥åœ¨ç”¨æˆ·çš„æœºå™¨ä¸Šå†è¢«ç¼–è¯‘ä¸€æ¬¡ï¼Œè€Œåº”è¯¥åœ¨éœ€è¦ç”¨çš„æ—¶å€™è¢«ç›´æ¥ä½¿ç”¨ã€‚å› æ­¤éœ€è¦é€šè¿‡åº“çš„æ–¹å¼è¿›è¡Œå‘å¸ƒï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨é™æ€åº“å’ŒåŠ¨æ€åº“ã€‚åœ¨å‘å¸ƒçš„åŒ…ä¸­ï¼Œæœ€é‡è¦çš„æ–‡ä»¶å°±æ˜¯å¤´æ–‡ä»¶å’Œåº“æ–‡ä»¶ã€‚å½“ç„¶å¯èƒ½ä¼šæºå¸¦ä¸€äº›å…¶ä»–å¿…è¦çš„æ–‡ä»¶ï¼Œä¾‹å¦‚èµ„æºæ–‡ä»¶ã€ç‰ˆæœ¬è¯´æ˜æ–‡ä»¶ç­‰ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç¼–è¯‘<code>C/C++</code>çš„ä»£ç éœ€è¦ä¾èµ–äº<code>C++</code>å’Œç¼–è¯‘å™¨çš„ç‰ˆæœ¬ã€‚è¿›ä¸€æ­¥çš„ï¼Œç”±äº<code>C/C++</code>æ˜¯éå¸¸æ¥è¿‘åº•å±‚çš„ä»£ç ï¼Œè™½ç„¶æ ‡å‡†åº“æ˜¯è·¨å¹³å°çš„ï¼Œä½†æ˜¯å¦‚æœéœ€è¦å†™å¹³å°ç›¸å…³çš„ç¨‹åºï¼Œè¿˜éœ€è¦æ³¨æ„æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ã€‚å› æ­¤ï¼Œå¯¹äºåŒä¸€ä¸ªç‰ˆæœ¬çš„<code>conan</code>åŒ…ï¼Œä¸åŒçš„ç³»ç»Ÿï¼Œä¸åŒçš„ç¼–è¯‘ç¯å¢ƒï¼Œæ˜¯é™æ€åº“è¿˜æ˜¯åŠ¨æ€åº“ï¼Œæ˜¯<code>Debug</code>åŒ…è¿˜æ˜¯<code>Release</code>åŒ…ï¼Œç”šè‡³ä¾èµ–åŒ…çš„ç‰ˆæœ¬ï¼Œéƒ½å¯èƒ½å¯¹æœ€åçš„ç¼–è¯‘é€ æˆä¸€å®šå½±å“ã€‚åœ¨æœ¬åœ°çš„<code>conan</code>é…ç½®ä¸­ä¼šä¿å­˜ç›¸å…³çš„è¿™äº›ä¿¡æ¯ï¼Œåœ¨<code>conan</code>æ‹‰åŒ…çš„æ—¶å€™ä¼šåŒ¹é…æœ¬åœ°çš„é…ç½®æ‹‰å–åˆé€‚çš„åŒ…ã€‚é…ç½®æ–‡ä»¶é»˜è®¤ä½äº<code>~/.conan/profile/default</code>ä¸­ã€‚</p><p>åœ¨<code>Linux</code>ä¸‹çš„é…ç½®ç±»ä¼¼äºè¿™æ ·ï¼Œçœ‹å…¶å‚æ•°å¾ˆæ˜æ˜¾å°±èƒ½çŸ¥é“å¯¹åº”çš„å«ä¹‰ã€‚</p><figure class="highlight ini"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[settings]</span></span><br><span class="line"><span class="attr">os</span>=Linux</span><br><span class="line"><span class="attr">os_build</span>=Linux</span><br><span class="line"><span class="attr">arch</span>=x<span class="number">86_64</span></span><br><span class="line"><span class="attr">arch_build</span>=x<span class="number">86_64</span></span><br><span class="line"><span class="attr">compiler</span>=gcc</span><br><span class="line"><span class="attr">compiler.version</span>=<span class="number">9</span></span><br><span class="line"><span class="attr">compiler.libcxx</span>=libstdc++<span class="number">11</span></span><br><span class="line"><span class="attr">build_type</span>=Release</span><br><span class="line"><span class="section">[options]</span></span><br><span class="line"><span class="section">[build_requires]</span></span><br><span class="line"><span class="section">[env]</span></span><br></pre></td></tr></table></div></figure><p>åœ¨<code>Windows</code>ä¸‹ç±»ä¼¼äºè¿™æ ·ï¼š</p><figure class="highlight ini"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[settings]</span></span><br><span class="line"><span class="attr">os</span>=Windows</span><br><span class="line"><span class="attr">os_build</span>=Windows</span><br><span class="line"><span class="attr">arch</span>=x<span class="number">86_64</span></span><br><span class="line"><span class="attr">arch_build</span>=x<span class="number">86_64</span></span><br><span class="line"><span class="attr">compiler</span>=Visual Studio</span><br><span class="line"><span class="attr">compiler.version</span>=<span class="number">16</span></span><br><span class="line"><span class="attr">build_type</span>=Release</span><br><span class="line"><span class="section">[options]</span></span><br><span class="line"><span class="section">[build_requires]</span></span><br><span class="line"><span class="section">[env]</span></span><br></pre></td></tr></table></div></figure><p>ç°åœ¨æˆ‘ä»¬ä»¥<code>cairo/1.18.0@</code>åŒ…ä¸ºä¾‹ï¼Œä½¿ç”¨<code>conan</code>å‘½ä»¤æŸ¥çœ‹å…¶è¿œç«¯çš„åŒ…çš„åˆ—è¡¨ã€‚</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conan search cairo/1.18.0@ -r conancenter</span><br></pre></td></tr></table></div></figure><p>å¾—åˆ°çš„ç»“æœå¤§è‡´æ˜¯è¿™æ ·ï¼š</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715163723130.png" alt="image-20240715163723130" style="zoom:55%"><p>æˆ‘ä»¬å‘ç°<code>settings</code>ä¸­çš„å†…å®¹å’Œæˆ‘ä»¬çš„<code>profiles/default</code>ä¸­çš„å†…å®¹å¯¹åº”ï¼Œè¿™å°±æ˜¯å‰é¢æåˆ°çš„åŒ¹é…ã€‚ä¾‹å¦‚å›¾ä¸­æ˜¯ä¸€ä¸ª<code>Mac</code>ä¸‹çš„<code>apple-clang</code>çš„<code>13.0</code>ç‰ˆæœ¬çš„<code>é™æ€åº“</code>çš„<code>Debug</code>åŒ…ã€‚æ¯ä¸ªåŒ…çš„<code>options</code>ï¼Œ<code>settings</code>å’Œ<code>requires</code>éƒ½ä¼šå¯¹æœ€å‰é¢çš„<code>Package_ID</code>äº§ç”Ÿå½±å“ï¼Œè¿™æ˜¯ä¸€ä¸ªå“ˆå¸Œè®¡ç®—å€¼ï¼Œå…·ä½“å¦‚ä½•å½±å“å’Œç”Ÿæˆè¯·å‚è€ƒ<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://docs.conan.io/2/reference/binary_model/package_id.html">https://docs.conan.io/2/reference/binary_model/package_id.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚å½“ç„¶è¿™å…¶ä¸­ä¹Ÿæœ‰ä»¤äººè´¹è§£çš„åœ°æ–¹ï¼Œè¯·è§ä¸‹æ–‡ã€‚</p><h3 id="è§£å†³é”™è¯¯å¹¶åæ§½"><a href="#è§£å†³é”™è¯¯å¹¶åæ§½" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#è§£å†³é”™è¯¯å¹¶åæ§½"></a> è§£å†³é”™è¯¯ï¼ˆå¹¶åæ§½ï¼‰</h3><p>å‰é¢æåˆ°ï¼Œ<code>conan</code>å®˜æ–¹çš„åŒ…æœ‰é—®é¢˜ï¼Œä¼šå¯¼è‡´åœ¨å®‰è£…çš„æ—¶å€™å‡ºç°é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘åœ¨å®‰è£…çš„å‡ºç°çš„é”™è¯¯å¦‚ä¸‹ï¼š</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715165238889.png" alt="image-20240715165238889" style="zoom:55%"><p>é”™è¯¯ä¿¡æ¯å‘Šè¯‰æˆ‘<code>fontconfig</code>çš„<code>2.15.0</code>çš„ç‰ˆæœ¬éœ€è¦<code>conan 1.60.4</code>ä»¥ä¸Šæ‰èƒ½å®‰è£…ã€‚ç”±äºå…¬å¸ä½¿ç”¨çš„æ˜¯<code>conan 1.60.1</code>ï¼Œé¦–å…ˆæˆ‘æƒ³åˆ°çš„æ˜¯<code>conan</code>ç‰ˆæœ¬ä¸æ­£ç¡®ã€‚æ·±å…¥ç ”ç©¶åï¼Œæˆ‘å‘ç°çš„é—®é¢˜å‡ºä¹æˆ‘çš„æ„æ–™ã€‚</p><p>ç”±äºå…¬å¸å®é™…å¼€å‘çš„<code>conan</code>ç‰ˆæœ¬ä¸å¯èƒ½ä»<code>1.60.1</code>å‡åˆ°<code>1.60.4</code>ï¼Œè¦å‡è‚¯å®šä¸€æ­¥åˆ°ä½åˆ°<code>conan 2.0</code>äº†ã€‚é¦–å…ˆæŸ¥çœ‹<code>conancenter</code>ä¸­<code>cairo/1.18.0@</code>è¿œç«¯çš„åŒ…ï¼Œæ£€ç´¢ç¬¦åˆå½“å‰ç³»ç»Ÿå’Œç¼–è¯‘ç¯å¢ƒçš„ã€‚æˆ‘å‘ç°äº†ä¸‰ä¸ªé•¿çš„å‡ ä¹ä¸€æ ·çš„åŒ…ï¼š</p><figure class="highlight ini"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">; package 1</span></span><br><span class="line">Package_ID: 703bcc640002869a53960c4449d3825ff8a103e6</span><br><span class="line">    <span class="section">[options]</span></span><br><span class="line">        fPIC: True</span><br><span class="line">        shared: False</span><br><span class="line">        tee: False</span><br><span class="line">        with_fontconfig: True</span><br><span class="line">        with_freetype: True</span><br><span class="line">        with_glib: True</span><br><span class="line">        with_lzo: True</span><br><span class="line">        with_png: True</span><br><span class="line">        with_symbol_lookup: False</span><br><span class="line">        with_xcb: True</span><br><span class="line">        with_xlib: True</span><br><span class="line">        with_xlib_xrender: True</span><br><span class="line">        with_zlib: True</span><br><span class="line">    <span class="section">[settings]</span></span><br><span class="line">        arch: x86_64</span><br><span class="line">        build_type: Release</span><br><span class="line">        compiler: gcc</span><br><span class="line">        compiler.version: 9</span><br><span class="line">        os: Linux</span><br><span class="line">    <span class="section">[requires]</span></span><br><span class="line">        brotli/1.1.0:b21556a366bf52552d3a00ce381b508d0563e081</span><br><span class="line">        bzip2/1.0.8:da606cf731e334010b0bf6e85a2a6f891b9f36b0</span><br><span class="line">        expat/2.6.0:c215f67ac7fc6a34d9d0fb90b0450016be569d86</span><br><span class="line">        fontconfig/2.15.0:b172ac37518ca059ccac0be9c3eb29e5179ecf1e</span><br><span class="line">        freetype/2.13.2:f1014dc4f9380132c471ceb778980949abf136d3</span><br><span class="line">        glib/2.78.3:06c63123a2bb8b6d3ea5dcae501525df32efb7b5</span><br><span class="line">        libelf/0.8.13:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libffi/3.4.4:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libmount/2.39:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libpng/1.6.43:7929d8ecf29c60d74fd3c1f6cb78bbb3cb49c0c7</span><br><span class="line">        libselinux/3.5:6b0384e3aaa343ede5d2bd125e37a0198206de42</span><br><span class="line">        lzo/2.10:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        pcre2/10.42:647f8233073b10c84d51b1833c74f5a1cb8e8604</span><br><span class="line">        pixman/0.43.4:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        util-linux-libuuid/2.39.2:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        xorg/system:5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9</span><br><span class="line">        zlib/1.3.1:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">    Outdated from recipe: True</span><br><span class="line"></span><br><span class="line"><span class="comment">; package 2</span></span><br><span class="line">Package_ID: 8098347825649d9fd3e21c49992446a2a2193ad4</span><br><span class="line">    <span class="section">[options]</span></span><br><span class="line">        fPIC: True</span><br><span class="line">        shared: False</span><br><span class="line">        tee: False</span><br><span class="line">        with_fontconfig: True</span><br><span class="line">        with_freetype: True</span><br><span class="line">        with_glib: True</span><br><span class="line">        with_lzo: True</span><br><span class="line">        with_png: True</span><br><span class="line">        with_symbol_lookup: False</span><br><span class="line">        with_xcb: True</span><br><span class="line">        with_xlib: True</span><br><span class="line">        with_xlib_xrender: True</span><br><span class="line">        with_zlib: True</span><br><span class="line">    <span class="section">[settings]</span></span><br><span class="line">        arch: x86_64</span><br><span class="line">        build_type: Release</span><br><span class="line">        compiler: gcc</span><br><span class="line">        compiler.version: 9</span><br><span class="line">        os: Linux</span><br><span class="line">    <span class="section">[requires]</span></span><br><span class="line">        brotli/1.1.0:b21556a366bf52552d3a00ce381b508d0563e081</span><br><span class="line">        bzip2/1.0.8:da606cf731e334010b0bf6e85a2a6f891b9f36b0</span><br><span class="line">        expat/2.5.0:c215f67ac7fc6a34d9d0fb90b0450016be569d86</span><br><span class="line">        fontconfig/2.14.2:b172ac37518ca059ccac0be9c3eb29e5179ecf1e</span><br><span class="line">        freetype/2.13.0:f1014dc4f9380132c471ceb778980949abf136d3</span><br><span class="line">        glib/2.78.0:06c63123a2bb8b6d3ea5dcae501525df32efb7b5</span><br><span class="line">        libelf/0.8.13:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libffi/3.4.4:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libmount/2.39:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libpng/1.6.40:7929d8ecf29c60d74fd3c1f6cb78bbb3cb49c0c7</span><br><span class="line">        libselinux/3.5:6b0384e3aaa343ede5d2bd125e37a0198206de42</span><br><span class="line">        lzo/2.10:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        pcre2/10.42:647f8233073b10c84d51b1833c74f5a1cb8e8604</span><br><span class="line">        pixman/0.40.0:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        util-linux-libuuid/2.39:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        xorg/system:5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9</span><br><span class="line">        zlib/1.3:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">    Outdated from recipe: True</span><br><span class="line">        </span><br><span class="line"><span class="comment">; package 3</span></span><br><span class="line">Package_ID: a336bac291d8ec6a55c6257f3266f9a8760c7403</span><br><span class="line">    <span class="section">[options]</span></span><br><span class="line">        fPIC: True</span><br><span class="line">        shared: False</span><br><span class="line">        tee: False</span><br><span class="line">        with_fontconfig: True</span><br><span class="line">        with_freetype: True</span><br><span class="line">        with_glib: True</span><br><span class="line">        with_lzo: True</span><br><span class="line">        with_png: True</span><br><span class="line">        with_symbol_lookup: False</span><br><span class="line">        with_xcb: True</span><br><span class="line">        with_xlib: True</span><br><span class="line">        with_xlib_xrender: True</span><br><span class="line">        with_zlib: True</span><br><span class="line">    <span class="section">[settings]</span></span><br><span class="line">        arch: x86_64</span><br><span class="line">        build_type: Release</span><br><span class="line">        compiler: gcc</span><br><span class="line">        compiler.version: 9</span><br><span class="line">        os: Linux</span><br><span class="line">    <span class="section">[requires]</span></span><br><span class="line">        brotli/1.1.0:b21556a366bf52552d3a00ce381b508d0563e081</span><br><span class="line">        bzip2/1.0.8:da606cf731e334010b0bf6e85a2a6f891b9f36b0</span><br><span class="line">        expat/2.5.0:c215f67ac7fc6a34d9d0fb90b0450016be569d86</span><br><span class="line">        fontconfig/2.14.2:b172ac37518ca059ccac0be9c3eb29e5179ecf1e</span><br><span class="line">        freetype/2.13.2:f1014dc4f9380132c471ceb778980949abf136d3</span><br><span class="line">        glib/2.78.1:06c63123a2bb8b6d3ea5dcae501525df32efb7b5</span><br><span class="line">        libelf/0.8.13:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libffi/3.4.4:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libmount/2.39:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        libpng/1.6.40:7929d8ecf29c60d74fd3c1f6cb78bbb3cb49c0c7</span><br><span class="line">        libselinux/3.5:6b0384e3aaa343ede5d2bd125e37a0198206de42</span><br><span class="line">        lzo/2.10:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        pcre2/10.42:647f8233073b10c84d51b1833c74f5a1cb8e8604</span><br><span class="line">        pixman/0.42.2:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        util-linux-libuuid/2.39.2:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">        xorg/system:5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9</span><br><span class="line">        zlib/1.3:6af9cc7cb931c5ad942174fd7838eb655717c709</span><br><span class="line">    Outdated from recipe: True</span><br></pre></td></tr></table></div></figure><p>è¿™ä¸‰ä¸ªåŒ…çš„å”¯ä¸€åŒºåˆ«åœ¨äº<code>requires</code>ä¸åŒï¼Œç¬¬ä¸€ä¸ªåŒ…éœ€è¦<code>expat/2.6.0</code>ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªåŒ…éœ€è¦<code>expat/2.5.0</code>ã€‚ç¬¬äºŒä¸ªåŒ…éœ€è¦<code>freetype/2.13.0</code>ï¼Œç¬¬ä¸‰ä¸ªåŒ…<code>freetype/2.13.2</code>ã€‚è¿™å°±æ˜¯å”¯ä¸€åŒºåˆ«ï¼Œç„¶åç”Ÿæˆäº†ä¸‰ä¸ªä¸åŒçš„å“ˆå¸Œå€¼ï¼Œå¯¹åº”ä¸åŒçš„<code>package</code>ã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ<code>conan install</code>é»˜è®¤ä¼šè¯»å–æœ¬åœ°çš„é…ç½®ï¼Œä½†æ˜¯æœ¬åœ°é…ç½®ä¸å¯èƒ½æŒ‡å®š<code>requires</code>å•Šã€‚ä¸åŒçš„é¡¹ç›®å¯èƒ½ç”¨çš„ç‰ˆæœ¬ä¸åŒï¼Œè¿™æ˜¯å¾ˆæ­£å¸¸çš„äº‹æƒ…ï¼Œä¹Ÿä¸åº”è¯¥æ˜¯ç”±ç”¨æˆ·æ‰¿æ‹…è´£ä»»çš„åœ°æ–¹ã€‚å…¶æ¬¡ï¼Œ<code>conan install</code>ä¸èƒ½æŒ‡å®š<code>package_id</code>ä¸‹è½½ï¼Œå› æ­¤ä¸‹è½½çš„æ˜¯å“ªä¸€ä¸ªåŒ…ï¼Œå®Œå…¨å°±çœ‹ä»–æ€ä¹ˆæƒ³äº†ã€‚éå¸¸ä¸å¹¸è¿çš„æ˜¯ï¼Œæˆ‘éœ€è¦ç¬¬äºŒä¸ªåŒ…ï¼Œä½†æ˜¯ä¸‹è½½åªèƒ½ä¸‹è½½åˆ°ç¬¬ä¸€ä¸ªåŒ…ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå¹¸è¿çš„æ˜¯ï¼Œ<code>conan</code>æä¾›äº†<code>conan download</code>çš„æ–¹æ³•ï¼Œè¿™ä¸ªä¸œè¥¿å¯ä»¥æŒ‡å®š<code>package_id</code>è¿›è¡Œä¸‹è½½ã€‚é‚£å°±ç®€å•äº†ï¼Œå…ˆæŠŠ<code>cairo</code>æœ¬åŒ…ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åå†æŒ‡å®šè¿™ä¸€å¥—æµç¨‹ï¼Œç”±äºæœ¬åœ°æœ‰ç¼“å­˜ï¼Œä¼šè·³è¿‡å»è¿œç«¯æ‹‰å–<code>cairo</code>åŒ…çš„è¿™ä¸€æ­¥ï¼Œè¿™æ ·æ‰€æœ‰æœ¬åŒ…å’Œæ‰€æœ‰ä¾èµ–ä¸å°±é¡ºåˆ©æ‹‰å–ä¸‹æ¥äº†å—ï¼Ÿè¯´å¹²å°±å¹²ã€‚</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conan download cairo/1.18.0@:8098347825649d9fd3e21c49992446a2a2193ad4 -r conancenter</span><br></pre></td></tr></table></div></figure><p>æˆåŠŸä¸‹è½½ä¸‹æ¥ä»¥åï¼Œå†æ¬¡æ‰§è¡Œ<code>conan install ..</code>ï¼Œåˆå‡ºé—®é¢˜äº†ã€‚</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715172400074.png" alt="image-20240715172400074" style="zoom:58%"><p>ä¸å¯¹å•Šï¼Œè¿™ä¸ªåŒ…ä¾èµ–çš„<code>fontconfig</code>çš„ç‰ˆæœ¬æ˜¯<code>2.14.2</code>å•Šï¼Œä¸ºä»€ä¹ˆè¿™é‡Œè¿˜æ˜¯ä¸‹è½½çš„<code>2.15.0</code>å•Šï¼Ÿä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ‰“å¼€äº†å¯¹åº”çš„<code>conanfile.py</code>ï¼Œé˜…è¯»åˆ°<code>requirements()</code>å‡½æ•°çš„æ—¶å€™ï¼Œè±ç„¶å¼€æœ—ã€‚</p><figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">requirements</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="variable language_">self</span>.requires(<span class="string">&quot;pixman/0.43.4&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_zlib <span class="keyword">and</span> <span class="variable language_">self</span>.options.with_png:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;expat/[&gt;=2.6.2 &lt;3]&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_lzo:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;lzo/2.10&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_zlib:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;zlib/[&gt;=1.2.11 &lt;2]&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_freetype:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;freetype/2.13.2&quot;</span>, transitive_headers=<span class="literal">True</span>, transitive_libs=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_fontconfig:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;fontconfig/2.15.0&quot;</span>, transitive_headers=<span class="literal">True</span>, transitive_libs=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_png:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;libpng/[&gt;=1.6 &lt;2]&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_glib:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;glib/2.78.3&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.settings.os <span class="keyword">in</span> [<span class="string">&quot;Linux&quot;</span>, <span class="string">&quot;FreeBSD&quot;</span>]:</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.options.with_xlib <span class="keyword">or</span> <span class="variable language_">self</span>.options.with_xlib_xrender <span class="keyword">or</span> <span class="variable language_">self</span>.options.with_xcb:</span><br><span class="line">            <span class="variable language_">self</span>.requires(<span class="string">&quot;xorg/system&quot;</span>, transitive_headers=<span class="literal">True</span>, transitive_libs=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.get_safe(<span class="string">&quot;with_opengl&quot;</span>) == <span class="string">&quot;desktop&quot;</span>:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;opengl/system&quot;</span>, transitive_headers=<span class="literal">True</span>, transitive_libs=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.settings.os == <span class="string">&quot;Windows&quot;</span>:</span><br><span class="line">            <span class="variable language_">self</span>.requires(<span class="string">&quot;glext/cci.20210420&quot;</span>)</span><br><span class="line">            <span class="variable language_">self</span>.requires(<span class="string">&quot;wglext/cci.20200813&quot;</span>)</span><br><span class="line">            <span class="variable language_">self</span>.requires(<span class="string">&quot;khrplatform/cci.20200529&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="variable language_">self</span>.options.get_safe(<span class="string">&quot;with_opengl&quot;</span>) <span class="keyword">and</span> <span class="variable language_">self</span>.settings.os <span class="keyword">in</span> [<span class="string">&quot;Linux&quot;</span>, <span class="string">&quot;FreeBSD&quot;</span>]:</span><br><span class="line">        <span class="variable language_">self</span>.requires(<span class="string">&quot;egl/system&quot;</span>, transitive_headers=<span class="literal">True</span>, transitive_libs=<span class="literal">True</span>)</span><br></pre></td></tr></table></div></figure><p>ä¸æ˜¯å“¥ä»¬ï¼Œ<code>expat</code>éœ€è¦çš„æ˜¯<code>2.5.0</code>ï¼Œä½†æ˜¯ä½ è§„å®šä¾èµ–çš„åŒ…æ˜¯<code>&gt;=2.6.2 and &lt;3</code>ã€‚å“ˆï¼Ÿè¿™ä¸å‰åçŸ›ç›¾å—ï¼Ÿå¯¹äº<code>freetype</code>å’Œ<code>fontconfig</code>ä¹Ÿæ˜¯ç›¸åŒçš„é—®é¢˜ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å†æµè§ˆä¸€ä¸‹<code>cairo</code>åŒ…æ‹‰ä¸‹æ¥ä»¥åçš„æ•´ä½“ç»“æ„ã€‚å¥¥ï¼ŒåŸæ¥åŒä¸€ä¸ªç‰ˆæœ¬çš„æ‰€æœ‰åŒ…çš„<code>conanfile.py</code>éƒ½æ˜¯åŒä¸€ä¸ªæ–‡ä»¶ã€‚å¥½ï¼Œè¿™æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œè¿™æ˜¯<code>conan</code>çš„è®¾è®¡ã€‚ä½†æ˜¯ä½ è‡ªå·±ä¸æ›´æ–°ä¾èµ–ç‰ˆæœ¬çš„é™åˆ¶æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¦‚æœç¡¬è¦ä¸æ”¹çš„è¯ï¼Œå‘å¸ƒä¸åŒçš„ç‰ˆæœ¬ä¹Ÿæ˜¯<code>ok</code>çš„å•Šã€‚è¿™æ ·ä¸€å¥—æµç¨‹ä¸‹æ¥ï¼Œå¯¼è‡´<code>conan</code>æ‹‰åŒ…å°±å‡ºç°äº†é—®é¢˜ã€‚</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715172916780.png" alt="image-20240715172916780" style="zoom:67%"><p>é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿå…¬å¸è¿™è¾¹çš„è§£å†³æ–¹å¼æ˜¯å°†è¯¥ç‰ˆæœ¬çš„<code>cairo</code>åŒ…ä¸Šä¼ åˆ°å…¬å¸çš„<code>conan</code>æœåŠ¡å™¨ä¸Šï¼Œå¹¶æ‰‹åŠ¨ä¿®æ”¹<code>conanfile.py</code>ä½¿å…¶ç‰ˆæœ¬åŒ¹é…ï¼Œå¹¶å°†æ‰€æœ‰çš„ä¾èµ–ä»¥åŠç©¿é€ä¾èµ–å…¨éƒ¨æ‹·è´åˆ°å…¬å¸æœåŠ¡å™¨ä¸Šã€‚è‡³æ­¤ï¼Œ<code>cairo</code>ç»ˆäºæˆåŠŸé€šè¿‡<code>conan</code>å®‰è£…ã€‚</p><p><code>Windows</code>é‚£è¾¹ä¹Ÿæ˜¯åŒæ ·çš„é—®é¢˜ï¼ŒåŒæ ·æ“ä½œå³å¯ã€‚</p><h3 id="è¡¥å……"><a href="#è¡¥å……" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#è¡¥å……"></a> è¡¥å……</h3><p>åœ¨<code>Linux</code>ä¸‹çš„<code>Cairo</code>åŒ…ä¸­ï¼Œæœ‰ä¸€ä¸ªä¾èµ–é¡¹å€¼å¾—çœ‹ä¸€ä¸‹ï¼Œå³<code>xorg/system</code>ã€‚è¿™ä¸ªåŒ…çš„ç‰ˆæœ¬æ˜¯<code>system</code>ï¼Œæ„æ€æ˜¯å’Œç³»ç»Ÿç›¸å…³çš„åŒ…ï¼Œè¿™é‡Œæ˜¯<code>Linux</code>ä¸‹<code>X</code>å›¾å½¢åè®®ç›¸å…³çš„ä¾èµ–ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œç³»ç»ŸåŒ…æ˜¯é€šè¿‡<code>apt</code>æˆ–è€…<code>yum</code>è¿›è¡Œå®‰è£…çš„ï¼Œæ„æ€æ˜¯<code>conan</code>èƒ½å¤Ÿè°ƒç”¨è¿™äº›åŒ…å‘½ä»¤æ¥å¸®æˆ‘ä»¬è‡ªåŠ¨å®‰è£…å¯¹åº”çš„åŒ…å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œå‚è§æ–‡æ¡£<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://docs.conan.io/2/reference/tools/system/package_manager.html">https://docs.conan.io/2/reference/tools/system/package_manager.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚ç•™æ„è¿™æ®µä»£ç ï¼š</p><figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">system_requirements</span>(<span class="params">self</span>):</span><br><span class="line">    apt = package_manager.Apt(<span class="variable language_">self</span>)</span><br><span class="line">    apt.install([<span class="string">&quot;libx11-dev&quot;</span>, <span class="string">&quot;libx11-xcb-dev&quot;</span>, <span class="string">&quot;libfontenc-dev&quot;</span>, <span class="string">&quot;libice-dev&quot;</span>, <span class="string">&quot;libsm-dev&quot;</span>, <span class="string">&quot;libxau-dev&quot;</span>, <span class="string">&quot;libxaw7-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxcomposite-dev&quot;</span>, <span class="string">&quot;libxcursor-dev&quot;</span>, <span class="string">&quot;libxdamage-dev&quot;</span>, <span class="string">&quot;libxdmcp-dev&quot;</span>, <span class="string">&quot;libxext-dev&quot;</span>, <span class="string">&quot;libxfixes-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxi-dev&quot;</span>, <span class="string">&quot;libxinerama-dev&quot;</span>, <span class="string">&quot;libxkbfile-dev&quot;</span>, <span class="string">&quot;libxmu-dev&quot;</span>, <span class="string">&quot;libxmuu-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxpm-dev&quot;</span>, <span class="string">&quot;libxrandr-dev&quot;</span>, <span class="string">&quot;libxrender-dev&quot;</span>, <span class="string">&quot;libxres-dev&quot;</span>, <span class="string">&quot;libxss-dev&quot;</span>, <span class="string">&quot;libxt-dev&quot;</span>, <span class="string">&quot;libxtst-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxv-dev&quot;</span>, <span class="string">&quot;libxxf86vm-dev&quot;</span>, <span class="string">&quot;libxcb-glx0-dev&quot;</span>, <span class="string">&quot;libxcb-render0-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxcb-render-util0-dev&quot;</span>, <span class="string">&quot;libxcb-xkb-dev&quot;</span>, <span class="string">&quot;libxcb-icccm4-dev&quot;</span>, <span class="string">&quot;libxcb-image0-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxcb-keysyms1-dev&quot;</span>, <span class="string">&quot;libxcb-randr0-dev&quot;</span>, <span class="string">&quot;libxcb-shape0-dev&quot;</span>, <span class="string">&quot;libxcb-sync-dev&quot;</span>, <span class="string">&quot;libxcb-xfixes0-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxcb-xinerama0-dev&quot;</span>, <span class="string">&quot;libxcb-dri3-dev&quot;</span>, <span class="string">&quot;uuid-dev&quot;</span>, <span class="string">&quot;libxcb-cursor-dev&quot;</span>, <span class="string">&quot;libxcb-dri2-0-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxcb-dri3-dev&quot;</span>, <span class="string">&quot;libxcb-present-dev&quot;</span>, <span class="string">&quot;libxcb-composite0-dev&quot;</span>, <span class="string">&quot;libxcb-ewmh-dev&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;libxcb-res0-dev&quot;</span>], update=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line">    apt.install_substitutes(</span><br><span class="line">        [<span class="string">&quot;libxcb-util-dev&quot;</span>], [<span class="string">&quot;libxcb-util0-dev&quot;</span>], update=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    yum = package_manager.Yum(<span class="variable language_">self</span>)</span><br><span class="line">    yum.install([<span class="string">&quot;libxcb-devel&quot;</span>, <span class="string">&quot;libfontenc-devel&quot;</span>, <span class="string">&quot;libXaw-devel&quot;</span>, <span class="string">&quot;libXcomposite-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;libXcursor-devel&quot;</span>, <span class="string">&quot;libXdmcp-devel&quot;</span>, <span class="string">&quot;libXtst-devel&quot;</span>, <span class="string">&quot;libXinerama-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;libxkbfile-devel&quot;</span>, <span class="string">&quot;libXrandr-devel&quot;</span>, <span class="string">&quot;libXres-devel&quot;</span>, <span class="string">&quot;libXScrnSaver-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;xcb-util-wm-devel&quot;</span>, <span class="string">&quot;xcb-util-image-devel&quot;</span>, <span class="string">&quot;xcb-util-keysyms-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;xcb-util-renderutil-devel&quot;</span>, <span class="string">&quot;libXdamage-devel&quot;</span>, <span class="string">&quot;libXxf86vm-devel&quot;</span>, <span class="string">&quot;libXv-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;xcb-util-devel&quot;</span>, <span class="string">&quot;libuuid-devel&quot;</span>, <span class="string">&quot;xcb-util-cursor-devel&quot;</span>], update=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    dnf = package_manager.Dnf(<span class="variable language_">self</span>)</span><br><span class="line">    dnf.install([<span class="string">&quot;libxcb-devel&quot;</span>, <span class="string">&quot;libfontenc-devel&quot;</span>, <span class="string">&quot;libXaw-devel&quot;</span>, <span class="string">&quot;libXcomposite-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;libXcursor-devel&quot;</span>, <span class="string">&quot;libXdmcp-devel&quot;</span>, <span class="string">&quot;libXtst-devel&quot;</span>, <span class="string">&quot;libXinerama-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;libxkbfile-devel&quot;</span>, <span class="string">&quot;libXrandr-devel&quot;</span>, <span class="string">&quot;libXres-devel&quot;</span>, <span class="string">&quot;libXScrnSaver-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;xcb-util-wm-devel&quot;</span>, <span class="string">&quot;xcb-util-image-devel&quot;</span>, <span class="string">&quot;xcb-util-keysyms-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;xcb-util-renderutil-devel&quot;</span>, <span class="string">&quot;libXdamage-devel&quot;</span>, <span class="string">&quot;libXxf86vm-devel&quot;</span>, <span class="string">&quot;libXv-devel&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;xcb-util-devel&quot;</span>, <span class="string">&quot;libuuid-devel&quot;</span>, <span class="string">&quot;xcb-util-cursor-devel&quot;</span>], update=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    zypper = package_manager.Zypper(<span class="variable language_">self</span>)</span><br><span class="line">    zypper.install([<span class="string">&quot;libxcb-devel&quot;</span>, <span class="string">&quot;libfontenc-devel&quot;</span>, <span class="string">&quot;libXaw-devel&quot;</span>, <span class="string">&quot;libXcomposite-devel&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;libXcursor-devel&quot;</span>, <span class="string">&quot;libXdmcp-devel&quot;</span>, <span class="string">&quot;libXtst-devel&quot;</span>, <span class="string">&quot;libXinerama-devel&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;libxkbfile-devel&quot;</span>, <span class="string">&quot;libXrandr-devel&quot;</span>, <span class="string">&quot;libXres-devel&quot;</span>, <span class="string">&quot;libXss-devel&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;xcb-util-wm-devel&quot;</span>, <span class="string">&quot;xcb-util-image-devel&quot;</span>, <span class="string">&quot;xcb-util-keysyms-devel&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;xcb-util-renderutil-devel&quot;</span>, <span class="string">&quot;libXdamage-devel&quot;</span>, <span class="string">&quot;libXxf86vm-devel&quot;</span>, <span class="string">&quot;libXv-devel&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;xcb-util-devel&quot;</span>, <span class="string">&quot;libuuid-devel&quot;</span>, <span class="string">&quot;xcb-util-cursor-devel&quot;</span>], update=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    pacman = package_manager.PacMan(<span class="variable language_">self</span>)</span><br><span class="line">    pacman.install([<span class="string">&quot;libxcb&quot;</span>, <span class="string">&quot;libfontenc&quot;</span>, <span class="string">&quot;libice&quot;</span>, <span class="string">&quot;libsm&quot;</span>, <span class="string">&quot;libxaw&quot;</span>, <span class="string">&quot;libxcomposite&quot;</span>, <span class="string">&quot;libxcursor&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;libxdamage&quot;</span>, <span class="string">&quot;libxdmcp&quot;</span>, <span class="string">&quot;libxtst&quot;</span>, <span class="string">&quot;libxinerama&quot;</span>, <span class="string">&quot;libxkbfile&quot;</span>, <span class="string">&quot;libxrandr&quot;</span>, <span class="string">&quot;libxres&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;libxss&quot;</span>, <span class="string">&quot;xcb-util-wm&quot;</span>, <span class="string">&quot;xcb-util-image&quot;</span>, <span class="string">&quot;xcb-util-keysyms&quot;</span>, <span class="string">&quot;xcb-util-renderutil&quot;</span>,</span><br><span class="line">                          <span class="string">&quot;libxxf86vm&quot;</span>, <span class="string">&quot;libxv&quot;</span>, <span class="string">&quot;xcb-util&quot;</span>, <span class="string">&quot;util-linux-libs&quot;</span>, <span class="string">&quot;xcb-util-cursor&quot;</span>], update=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    package_manager.Pkg(<span class="variable language_">self</span>).install([<span class="string">&quot;libX11&quot;</span>, <span class="string">&quot;libfontenc&quot;</span>, <span class="string">&quot;libice&quot;</span>, <span class="string">&quot;libsm&quot;</span>, <span class="string">&quot;libxaw&quot;</span>, <span class="string">&quot;libxcomposite&quot;</span>, <span class="string">&quot;libxcursor&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;libxdamage&quot;</span>, <span class="string">&quot;libxdmcp&quot;</span>, <span class="string">&quot;libxtst&quot;</span>, <span class="string">&quot;libxinerama&quot;</span>, <span class="string">&quot;libxkbfile&quot;</span>, <span class="string">&quot;libxrandr&quot;</span>, <span class="string">&quot;libxres&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;libXScrnSaver&quot;</span>, <span class="string">&quot;xcb-util-wm&quot;</span>, <span class="string">&quot;xcb-util-image&quot;</span>, <span class="string">&quot;xcb-util-keysyms&quot;</span>, <span class="string">&quot;xcb-util-renderutil&quot;</span>,</span><br><span class="line">                       <span class="string">&quot;libxxf86vm&quot;</span>, <span class="string">&quot;libxv&quot;</span>, <span class="string">&quot;xkeyboard-config&quot;</span>, <span class="string">&quot;xcb-util&quot;</span>, <span class="string">&quot;xcb-util-cursor&quot;</span>], update=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br></pre></td></tr></table></div></figure><p>å¯¹äº<code>Ubuntu</code>æ¥è®²ï¼Œ<code>conan</code>èƒ½æ‰‹åŠ¨å¸®æˆ‘ä»¬è°ƒç”¨<code>apt</code>å®‰è£…æ‰€éœ€è¦çš„ç³»ç»Ÿä¾èµ–ã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šä¸¤å¥ï¼Œæ¥æŒ‡æ˜å¼€å¯è¿™ä¸ªåŠŸèƒ½å’Œä½¿ç”¨<code>sudo</code>ã€‚æ‰€ä»¥æœ€ç»ˆçš„é…ç½®æ–‡ä»¶ç±»ä¼¼å¦‚ä¸‹ï¼š</p><figure class="highlight ini"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[settings]</span></span><br><span class="line"><span class="attr">os</span>=Linux</span><br><span class="line"><span class="attr">os_build</span>=Linux</span><br><span class="line"><span class="attr">arch</span>=x<span class="number">86_64</span></span><br><span class="line"><span class="attr">arch_build</span>=x<span class="number">86_64</span></span><br><span class="line"><span class="attr">compiler</span>=gcc</span><br><span class="line"><span class="attr">compiler.version</span>=<span class="number">9</span></span><br><span class="line"><span class="attr">compiler.libcxx</span>=libstdc++<span class="number">11</span></span><br><span class="line"><span class="attr">build_type</span>=Release</span><br><span class="line"><span class="section">[options]</span></span><br><span class="line"><span class="section">[build_requires]</span></span><br><span class="line"><span class="section">[env]</span></span><br><span class="line"><span class="section">[conf]</span></span><br><span class="line">tools.system.package_manager:<span class="attr">mode</span>=install</span><br><span class="line">tools.system.package_manager:<span class="attr">sudo</span>=<span class="literal">True</span></span><br></pre></td></tr></table></div></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æˆåŠŸé€šè¿‡<code>conan</code>å®‰è£…ä¸‹æ¥äº†<code>cairo</code>ï¼Œçœ‹åˆ°æˆåŠŸçš„ç»“æœï¼Œæˆ‘çš„å†…å¿ƒæ— æ¯”å…´å¥‹ã€‚</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240715175839407.png" alt="image-20240715175839407" style="zoom:60%"><h1 id="ä½¿ç”¨cairoåº“ç»˜åˆ¶å›¾å½¢"><a href="#ä½¿ç”¨cairoåº“ç»˜åˆ¶å›¾å½¢" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#ä½¿ç”¨cairoåº“ç»˜åˆ¶å›¾å½¢"></a> ä½¿ç”¨Cairoåº“ç»˜åˆ¶å›¾å½¢</h1><p>å®‰è£…å®Œ<code>cairo</code>åº“ï¼Œæ˜¯æ—¶å€™ä½¿ç”¨å®ƒç»˜åˆ¶ä¸€äº›ç®€å•çš„å›¾å½¢äº†ã€‚</p><h2 id="linux-guièƒŒæ™¯ç®€è¿°"><a href="#linux-guièƒŒæ™¯ç®€è¿°" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#linux-guièƒŒæ™¯ç®€è¿°"></a> Linux GUIèƒŒæ™¯ç®€è¿°</h2><p><code>Linux</code>æœ¬èº«æ˜¯ä¸å¸¦æœ‰å›¾å½¢ç•Œé¢çš„ï¼ŒçœŸæ­£åŸç”Ÿçš„<code>Linux</code>ç³»ç»Ÿåªæ˜¯ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„æ“ä½œç³»ç»Ÿã€‚ä½†æ˜¯æˆ‘ä»¬ç›®å‰æ‰€ä½¿ç”¨çš„<code>Linux</code>å‘è¡Œç‰ˆï¼Œä¾‹å¦‚<code>Ubuntu</code>ã€<code>Centos</code>ç­‰ï¼Œéƒ½æ˜¯æœ‰å›¾å½¢ç•Œé¢çš„å•Šã€‚è¿™æ˜¯å› ä¸ºè¿™äº›å›¾å½¢ç•Œé¢æ˜¯<code>Linux</code>ä¸‹çš„ä¸€ä¸ªåº”ç”¨ç¨‹åºè€Œå·²ï¼Œæ˜¯é€šè¿‡ç¨‹åºå’Œåè®®æ¨¡æ‹Ÿå’Œå®ç°å‡ºæ¥çš„ï¼Œæˆ–è€…è¯´å›¾å½¢ç•Œé¢å¹¶ä¸å±äº<code>Linux</code>å†…æ ¸çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸€ç‚¹å’Œ<code>Windows</code>ç³»ç»Ÿå®Œå…¨ä¸ä¸€æ ·ï¼Œ<code>Windows</code>çš„å‘½ä»¤è¡Œåœ¨æˆ‘çœ‹æ¥å®Œå…¨ä¸å¦‚<code>Linux</code>è¿™ä¹ˆå¥½ç”¨ï¼Œç”šè‡³æœ‰æ—¶å€™æˆ‘ä¼šçˆ†ç²—å£å–·ä»–ï¼Œä½†æ˜¯<code>Windows</code>çš„ç”¨æˆ·çš„ä¾ç„¶æœ€å¤šã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯å› ä¸º<code>GUI</code>å¥½çœ‹ã€‚<code>Windows</code>çš„å›¾å½¢ç•Œé¢æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”åšçš„ç¡®å®å¥½çœ‹å’Œä¸æ»‘ã€‚è¿™æ ·å˜ç›¸çš„é™ä½äº†ç”¨æˆ·çš„å­¦ä¹ å’Œä½¿ç”¨æˆæœ¬ï¼Œå¯¹å¤§å¤šæ•°çš„äººè€Œè¨€æ˜¯ä»¶å¥½äº‹ã€‚ä½†æ˜¯å¯¹äºç¨‹åºå‘˜ç‰¹åˆ«æ˜¯åå‘åº•å±‚çš„ç¨‹åºå‘˜æ¥è®²ï¼Œå´çœŸä¸ä¸€å®šã€‚</p><p>åœ¨<code>Linux</code>ä¸‹ï¼Œéœ€è¦é€šè¿‡åº”ç”¨ç¨‹åºå®ç°å›¾å½¢ç•Œé¢ï¼Œé‚£å°±éœ€è¦è®¾è®¡ä¸€ä¸ªåˆé€‚çš„åè®®ã€‚ç›®å‰å¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„æœ‰ä¸¤ç§åè®®ï¼Œ<code>X</code>åè®®å’Œ<code>Wayland</code>åè®®ã€‚è¿™ä¸¤ç§åè®®éƒ½æ˜¯åŸºäºç½‘ç»œé€šä¿¡çš„æ€æƒ³ï¼Œå°†å›¾å½¢æ˜¾ç¤ºåˆ†ä¸ºäº†å®¢æˆ·ç«¯ï¼ˆå³ä½ çš„åº”ç”¨ç¨‹åºï¼‰å’ŒæœåŠ¡ç«¯é€šä¿¡çš„è¿‡ç¨‹ã€‚è¾“å…¥è®¾å¤‡å’Œæ˜¾ç¤ºè®¾å¤‡ä¸æ˜¯åŒä¸€ä¸ªè®¾å¤‡ï¼Œè€Œä¸”ä»–ä»¬éœ€è¦ç›¸äº’é…åˆï¼Œè¿›è¡Œç”»é¢æ˜¾ç¤ºï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªäº¤äº’åè®®ï¼Œå»ºç«‹ä»–ä»¬ç›´æ¥çš„æ²Ÿé€šæ¡¥æ¢ã€‚å½“ç„¶<code>X</code>åè®®å’Œ<code>Wayland</code>åè®®çš„ç»†èŠ‚æœ‰æ‰€åŒºåˆ«ï¼Œç²—ç•¥çš„è®²æ˜¯<code>server</code>å’Œ<code>compositor</code>çš„è®¾è®¡ä¸åŒï¼Œå…·ä½“å¯è§<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.secjuice.com/wayland-vs-xorg/">https://www.secjuice.com/wayland-vs-xorg/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚</p><p>æœ¬æ–‡ä»¥åŠåç»­ä»¥<code>X</code>åè®®ä¸ºä¾‹å±•å¼€ï¼Œå¹¶ä»¥<code>XClient</code>å’Œ<code>XServer</code>åˆ†åˆ«ä»£æŒ‡å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚ä¾‹å¦‚ç°åœ¨æˆ‘éœ€è¦ç”»ä¸€ä¸ªåœ†ï¼Œ<code>XClient</code>éœ€è¦å‘Šè¯‰<code>XServer</code>åœ¨å±å¹•çš„ä»€ä¹ˆåœ°æ–¹ï¼Œä½¿ç”¨ä»€ä¹ˆé¢œè‰²ï¼Œç”»å¤šå¤§çš„ä¸€ä¸ªåœ†ã€‚è‡³äºè¿™ä¸ªåœ†å¦‚ä½•ç”Ÿæˆï¼Œå¦‚ä½•ä½¿ç”¨ç¡¬ä»¶çœŸæ­£ç»˜åˆ¶å›¾å½¢ç­‰ç­‰è¿™äº›æ“ä½œï¼Œéƒ½æ˜¯ç”±<code>XServer</code>å®Œæˆçš„ã€‚å½“ç„¶æ›´è¿›ä¸€æ­¥çš„ï¼Œ<code>XServer</code>è¿˜å¯ä»¥æ•æ‰é¼ æ ‡å’Œé”®ç›˜çš„åŠ¨ä½œï¼Œä¼šè§¦å‘ç›¸åº”çš„äº‹ä»¶ã€‚<code>XClient</code>å¯ä»¥æ¥å—ç›¸åº”çš„äº‹ä»¶å¹¶ä¸”å®Œæˆç›¸åº”çš„é€»è¾‘ã€‚è¿™å°±æ˜¯æ•´ä¸ª<code>X</code>åè®®ä»¥åŠç»˜åˆ¶é€»è¾‘çš„ç®€è¦æ¦‚æ‹¬ã€‚</p><p><code>X</code>åè®®æœ‰å¾ˆå¤šå®ç°ã€‚ç›®å‰ç”¨çš„æœ€å¤šçš„æ˜¯<code>XOrg</code>ï¼Œå¯¹åº”çš„<code>XClient</code>æœ‰<code>Xlib</code>å’Œ<code>XCB</code>çš„ä¸¤ç§å®ç°ï¼Œæä¾›äº†å’Œ<code>XServer</code>å¯¹æ¥çš„<code>API</code>ã€‚ï¼ˆ<code>At the bottom level of the X client library stack are Xlib and XCB, two helper libraries (really sets of libraries) that provide API for talking to the X server.</code>ï¼‰æœ¬æ–‡çš„èƒŒæ™¯æ˜¯<code>X11</code>ï¼Œä¹Ÿæ˜¯<code>Xlib</code>åº“çš„ä¸€ä¸ªç‰¹æ®Šç‰ˆæœ¬ã€‚</p><p>ä¸Šé¢åªæ˜¯éå¸¸ç²—ç•¥çš„è¯´æ˜äº†ä¸€ä¸‹åŸºæœ¬æ€è·¯ï¼Œæ›´å¤šæ–‡æ¡£è¯·å‚è€ƒï¼š</p><ol><li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.x.org/wiki/">X.Org</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li><li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://wayland.freedesktop.org/">Wayland</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li><li><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.x.org/wiki/guide/xlib-and-xcb/">The X New Developerâ€™s Guide: Xlib and XCB</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li></ol><h2 id="å®‰è£…x11å¹¶ç¼–å†™guiç¨‹åº"><a href="#å®‰è£…x11å¹¶ç¼–å†™guiç¨‹åº" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#å®‰è£…x11å¹¶ç¼–å†™guiç¨‹åº"></a> å®‰è£…X11å¹¶ç¼–å†™GUIç¨‹åº</h2><p>å¼ºçƒˆå»ºè®®åœ¨è™šæ‹Ÿæœºä¸‹è¿›è¡Œï¼Œå› ä¸º<code>Wsl</code>éœ€è¦å†…æ ¸æ›´æ–°åˆ°<code>2.2.4</code>ä»¥åæ‰èƒ½ä½¿ç”¨æœ€æ–°åŠŸèƒ½çš„<code>GUI</code>ï¼Œè€Œä¸”ä½“éªŒè¿˜ä¸æ˜¯å¾ˆå¥½ã€‚</p><p>ä»¥<code>Ubuntu</code>ä¸ºä¾‹ï¼Œç³»ç»Ÿé»˜è®¤æ˜¯æœªå®‰è£…<code>X11</code>åº“çš„ï¼ˆ<code>XServer</code>è‚¯å®šæ˜¯æœ‰çš„ï¼Œä¸ç„¶ä½ æ€ä¹ˆçœ‹å¾—åˆ°å›¾å½¢ç•Œé¢å‘¢ï¼Ÿå®‰è£…<code>X11</code>åªæ˜¯æä¾›äº†çª—å£ç³»ç»Ÿçš„å¼€å‘æ”¯æŒï¼‰ã€‚å› æ­¤æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ‰‹åŠ¨å®‰è£…ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œç”±äº<code>X11</code>æ˜¯ç³»ç»Ÿåº“ï¼Œå› æ­¤ä½¿ç”¨<code>apt</code>åŒ…å®‰è£…å³å¯ã€‚åŒç†å¯¹äº<code>Wayland</code>ä¹Ÿæ˜¯ä¸€æ ·ã€‚</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install libx11-dev</span><br></pre></td></tr></table></div></figure><p>å®‰è£…å®Œæˆä»¥åï¼Œä½¿ç”¨<code>CMake</code>å°±èƒ½å¾ˆæ–¹ä¾¿çš„å¼•å…¥<code>X11</code>æ”¯æŒäº†ã€‚</p><figure class="highlight cmake"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_executable</span> (xxx</span><br><span class="line">    ...</span><br><span class="line">)</span><br><span class="line"><span class="keyword">target_link_libraries</span> (xxx X11)</span><br></pre></td></tr></table></div></figure><p>ç°åœ¨æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªæ ·ä¾‹ç¨‹åºï¼Œç”¨äºåœ¨<code>X11</code>ä¸‹ç»˜åˆ¶ä¸€ä¸ªå›¾å½¢çª—å£ã€‚è¿™é‡Œé¢æ¶‰åŠåˆ°å¾ˆå¤šçš„<code>X11</code>çš„<code>API</code>ï¼Œæœ¬æ–‡åªåšç®€å•ä»‹ç»ï¼Œå…·ä½“è¯·å‚è€ƒæ–‡æ¡£<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.x.org/releases/X11R7.7/doc/libX11/libX11/libX11.html">https://www.x.org/releases/X11R7.7/doc/libX11/libX11/libX11.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;X11/Xlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨äºå’Œ XServer å»ºç«‹è¿æ¥ï¼Œdpy æŒ‡é’ˆå…¨å±€åªæœ‰ä¸€ä»½</span></span><br><span class="line">    Display *dpy = <span class="built_in">XOpenDisplay</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="keyword">if</span> (!dpy)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cerr &lt;&lt; <span class="string">&quot;Unable to open X display!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">throw</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> screen = <span class="built_in">DefaultScreen</span>(dpy);</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªé¡¶å±‚çª—å£</span></span><br><span class="line">    Window w = <span class="built_in">XCreateSimpleWindow</span>(</span><br><span class="line">        dpy,</span><br><span class="line">        <span class="built_in">RootWindow</span>(dpy, <span class="built_in">DefaultScreen</span>(dpy)),</span><br><span class="line">        <span class="number">100</span>, <span class="number">100</span>, <span class="number">400</span>, <span class="number">300</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="built_in">BlackPixel</span>(dpy, screen),</span><br><span class="line">        <span class="built_in">BlackPixel</span>(dpy, screen)</span><br><span class="line">    );</span><br><span class="line">    <span class="comment">// å°†éœ€è¦æ£€æµ‹çš„äº‹ä»¶ç»‘å®šåœ¨çª—å£ä¸Š</span></span><br><span class="line">    <span class="built_in">XSelectInput</span>(dpy, w, ExposureMask);</span><br><span class="line">    <span class="comment">// å±•ç¤ºè¿™ä¸ªçª—å£</span></span><br><span class="line">    <span class="built_in">XMapWindow</span>(dpy, w);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Entering loop ...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿›å…¥äº‹ä»¶å¾ªç¯</span></span><br><span class="line">    XEvent e;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">XNextEvent</span>(dpy, &amp;e);</span><br><span class="line">        <span class="keyword">switch</span> (e.type)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> Expose:</span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;event: Expose&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;event: &quot;</span> &lt;&lt; e.type &lt;&lt; std::endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><p>æ¥å£çš„å¤§è‡´åŠŸèƒ½ä»¥åœ¨ä»£ç æ³¨é‡Šä¸­ä½“ç°ã€‚æ³¨æ„åˆ°æ•´ä¸ªç¨‹åºæœ€é‡è¦çš„æ¶æ„æ˜¯æœ€åçš„è¿™ä¸ªäº‹ä»¶å¾ªç¯ï¼Œå½“<code>XClient</code>çª—å£æˆåŠŸåˆ›å»ºå‡ºæ¥ä»¥åï¼Œ<code>XServer</code>éœ€è¦ä¸æ–­ç›‘å¬<code>XClient</code>å‘é€çš„äº‹ä»¶å¹¶äºˆä»¥å¤„ç†ï¼Œè¿™æ ·æ‰èƒ½å®ç°<code>GUI</code>ç¨‹åºçš„åŠŸèƒ½ã€‚å› æ­¤äº‹ä»¶å¾ªç¯çš„å­˜åœ¨å°±è‡ªç„¶è€Œç„¶äº†ã€‚æœ‰ç‚¹ç±»ä¼¼äº<code>IO</code>å¤šè·¯å¤ç”¨ä¸­<code>epoll</code>æŠ€æœ¯çš„æ¡†æ¶ã€‚åœ¨è¿™é‡Œç›‘å¬çš„æ˜¯<code>Expose</code>äº‹ä»¶ï¼Œä¸ç”¨å…·ä½“å…³å¿ƒè¿™ä¸ªè¯­ä¹‰æ˜¯ä»€ä¹ˆæ„æ€ï¼Œåœ¨çª—å£åˆ›å»ºå’Œçª—å£å¤§å°å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ä¼šè§¦å‘<code>Expose</code>äº‹ä»¶ï¼Œè¿™é‡Œä¹Ÿæ˜¯ç”¨ä½œä¿¡æ¯æ‰“å°æµ‹è¯•ã€‚</p><p>ç¨‹åºçš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥å‘ç°çª—å£åˆ›å»ºå’Œæ”¹å˜çª—å£å¤§å°çš„æ—¶å€™åœ¨ä¸æ–­æ‰“å°<code>Expose</code>çš„ä¿¡æ¯ã€‚</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716111623175.png" alt="image-20240716111623175" style="zoom:67%"><p>å¯¹äºäº‹ä»¶å¾ªç¯è¿™ä¸ªæ¦‚å¿µï¼Œä¸ç®¡æ˜¯<code>Qt</code>ï¼Œè¿˜æ˜¯<code>LarkSDK</code>ï¼Œè¿˜æ˜¯å¯¹äºä¸€ä¸ªè·¨å¹³å°çš„<code>GUI</code>æ¡†æ¶ï¼Œäº‹ä»¶å¾ªç¯æ˜¾ç„¶æ˜¯å¿…ä¸å¯å°‘çš„ã€‚é—®é¢˜åœ¨äºè·¨å¹³å°éœ€è¦ç»Ÿä¸€ä¸åŒå¹³å°ä¸‹çš„çª—ä½“ç³»ç»Ÿå’Œäº‹ä»¶å¤„ç†ç­‰é€»è¾‘ï¼Œæœ€ç»ˆæŠ½è±¡å‡ºè·¨å¹³å°çš„æ¥å£ï¼Œè¿™å°±æ˜¯è¿™äº›æ¡†æ¶æ­£åœ¨åšæœ€é‡è¦çš„ä¸€ä»¶äº‹æƒ…ã€‚ä»¥<code>LarkSDK</code>ä¸ºä¾‹ï¼Œè™½ç„¶æœ€ç®€å•çš„è·¨å¹³å°çš„ç¨‹åºæ˜¯å››è¡Œå°±èƒ½æå®šï¼Œä½†æ˜¯å…¶ä¸­æ¶‰åŠåˆ°çš„çŸ¥è¯†å’ŒèƒŒæ™¯æ˜¯éå¸¸åºå¤§çš„ã€‚</p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;lwindowapplication.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;lwindow.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LWindowApplication app; <span class="comment">// åˆ›å»ºçª—ä½“ç¨‹åºä¸»æ¡†æ¶å®ä¾‹</span></span><br><span class="line">    LWindow w; <span class="comment">// åˆ›å»ºé¡¶å±‚çª—ä½“</span></span><br><span class="line">    w.<span class="built_in">show</span>(); <span class="comment">// è®©çª—ä½“å¯è§</span></span><br><span class="line">    <span class="keyword">return</span> app.<span class="built_in">exec</span>(); <span class="comment">// è¿›å…¥ä¸»äº‹ä»¶å¾ªç¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><h2 id="å°è¯•å¼•å…¥cairo"><a href="#å°è¯•å¼•å…¥cairo" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#å°è¯•å¼•å…¥cairo"></a> å°è¯•å¼•å…¥Cairo</h2><p><code>cairo</code>å°†è¾“å‡ºå’Œç»˜åˆ¶çš„æ¦‚å¿µåšäº†ä¸¥æ ¼åŒºåˆ†ã€‚<code>cairo surface</code>æ˜¯ä¸€ä¸ªæŠ½è±¡å‡ºæ¥çš„æ¦‚å¿µï¼Œä¸å…¶å¯¹æ¥çš„æ˜¯å¤šç§è¾“å‡ºæ–¹å¼ï¼Œä¾‹å¦‚<code>PDF</code>ã€<code>PNG</code>ã€<code>SVG</code>ã€<code>Win32</code>ã€<code>XLib</code>ã€<code>XCB</code>ç­‰ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716141915019.png" alt="image-20240716141915019" style="zoom:75%"><p>æ¥ç€æˆ‘ä»¬æŸ¥çœ‹<code>cairo</code>å®˜æ–¹æä¾›çš„<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://cairographics.org/samples/">samples</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ï¼Œå¯ä»¥å‘ç°ï¼Œå®˜æ–¹æä¾›çš„æ ·ä¾‹å¥½åƒå®Œå…¨å’Œ<code>surface</code>æ²¡æœ‰å…³ç³»ï¼Œæ¢å¥è¯è¯´æ²¡æœ‰åæ˜ è¾“å‡ºçš„æ–¹å¼ã€‚ä¾‹å¦‚è¿™æ®µä»£ç ï¼š</p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> xc = <span class="number">128.0</span>;</span><br><span class="line"><span class="type">double</span> yc = <span class="number">128.0</span>;</span><br><span class="line"><span class="type">double</span> radius = <span class="number">100.0</span>;</span><br><span class="line"><span class="type">double</span> angle1 = <span class="number">45.0</span>  * (M_PI/<span class="number">180.0</span>);  <span class="comment">/* angles are specified */</span></span><br><span class="line"><span class="type">double</span> angle2 = <span class="number">180.0</span> * (M_PI/<span class="number">180.0</span>);  <span class="comment">/* in radians           */</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cairo_set_line_width</span> (cr, <span class="number">10.0</span>);</span><br><span class="line"><span class="built_in">cairo_arc</span> (cr, xc, yc, radius, angle1, angle2);</span><br><span class="line"><span class="built_in">cairo_stroke</span> (cr);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* draw helping lines */</span></span><br><span class="line"><span class="built_in">cairo_set_source_rgba</span> (cr, <span class="number">1</span>, <span class="number">0.2</span>, <span class="number">0.2</span>, <span class="number">0.6</span>);</span><br><span class="line"><span class="built_in">cairo_set_line_width</span> (cr, <span class="number">6.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cairo_arc</span> (cr, xc, yc, <span class="number">10.0</span>, <span class="number">0</span>, <span class="number">2</span>*M_PI);</span><br><span class="line"><span class="built_in">cairo_fill</span> (cr);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cairo_arc</span> (cr, xc, yc, radius, angle1, angle1);</span><br><span class="line"><span class="built_in">cairo_line_to</span> (cr, xc, yc);</span><br><span class="line"><span class="built_in">cairo_arc</span> (cr, xc, yc, radius, angle2, angle2);</span><br><span class="line"><span class="built_in">cairo_line_to</span> (cr, xc, yc);</span><br><span class="line"><span class="built_in">cairo_stroke</span> (cr);</span><br></pre></td></tr></table></div></figure><p>å®ƒçš„ç»˜åˆ¶ç»“æœæ˜¯è¿™æ ·çš„ï¼š</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716142350311.png" alt="image-20240716142350311" style="zoom:85%"><p>è¿™ä¸ªå›¾æ ·å¯ä»¥è¢«è¾“å‡ºåˆ°å‰é¢æåˆ°çš„ä»»æ„ä¸€ç§<code>surface</code>ä¸­ã€‚åŒæ—¶è¿™ä¹Ÿæ˜¯æˆ‘æƒ³è¯´çš„ï¼Œ<code>cairo</code>å°†è¾“å‡ºå’Œç»˜åˆ¶çš„æ¦‚å¿µåšäº†å®Œæ•´åŒºåˆ†ï¼ŒåŒæ ·è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å®¹æ˜“æƒ³åˆ°å’Œæ„¿æ„çœ‹åˆ°çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœæƒ³è¦åˆ›å»ºä¸€ä¸ªè¾“å‡ºåˆ°<code>PNG</code>ä¸­çš„å®ä¾‹ï¼Œä»£ç åº”è¯¥ç±»ä¼¼å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º surface</span></span><br><span class="line"><span class="type">cairo_surface_t</span> *surface = <span class="built_in">cairo_image_surface_create</span>(CAIRO_FORMAT_ARGB32, <span class="number">640</span>, <span class="number">480</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºç»˜å›¾ä¸Šä¸‹æ–‡ context</span></span><br><span class="line"><span class="type">cairo_t</span> *cr = <span class="built_in">cairo_create</span>(surface);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»˜åˆ¶é€»è¾‘ï¼Œåªå’Œ context ç›¸å…³ï¼Œä¸ surface æ— å…³</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºåˆ° png æ ¼å¼ä¸­</span></span><br><span class="line"><span class="built_in">cairo_surface_write_to_png</span>(surface, <span class="string">&quot;xxx.png&quot;</span>);</span><br></pre></td></tr></table></div></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ç”¨<code>surface</code>å’Œ<code>context</code>æ¥ä»£æŒ‡è¾“å‡ºå’Œç»˜åˆ¶çš„æ¦‚å¿µï¼Œä¹Ÿæ˜ç™½äº†<code>cario</code>æ˜¯å¦‚ä½•åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µçš„äº†ã€‚<code>surface</code>ç”¨ä½œæŒ‡æ˜ç»˜åˆ¶çš„å›¾å½¢è¾“å‡ºåˆ°å“ªé‡Œï¼Œ<code>context</code>åˆ™ç”¨äºè¿›è¡Œç»˜åˆ¶ã€‚è¯»è€…å¯ä»¥å°è¯•ç¼–å†™ä¸€ä¸ªå®Œæ•´çš„ç¨‹åºè¾“å‡ºä¸Šé¢çš„å›¾æ¡ˆåˆ°ä¸€å¼ å›¾ç‰‡æ–‡ä»¶ä¸­ã€‚</p><h2 id="cairoå’Œx11ç›¸ç»“åˆ"><a href="#cairoå’Œx11ç›¸ç»“åˆ" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#cairoå’Œx11ç›¸ç»“åˆ"></a> Cairoå’ŒX11ç›¸ç»“åˆ</h2><p>ä½¿ç”¨<code>cairo</code>æˆåŠŸè¾“å‡ºåˆ°å›¾ç‰‡æ–‡ä»¶ä¸­ä»¥åï¼Œè¯•ç€æƒ³æƒ³å¦‚ä½•ä¸<code>X11</code>çª—å£ç³»ç»Ÿç»“åˆäº†ã€‚æå‰å£°æ˜ï¼Œç”¨åˆ°çš„<code>surface</code>åªæœ‰<code>XLib Surface</code>å’Œ<code>Image Surface</code>ï¼Œå…¶ä»–çš„<code>API</code>è¯·è‡ªè¡ŒæŸ¥è¯¢<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://cairographics.org/manual/">æ–‡æ¡£</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚</p><h3 id="xlib-surface"><a href="#xlib-surface" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#xlib-surface"></a> XLib Surface</h3><p>é¦–å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯<code>XLib Surface</code>ã€‚è¿™ä»£è¡¨<code>cairo</code>å¸®æˆ‘åšå¥½äº†ä¸<code>X11</code>å¹³å°çš„å¯¹æ¥å·¥ä½œï¼Œæˆ‘åªéœ€è¦æŒ‰éƒ¨å°±ç­åœ°ä½¿ç”¨<code>cairo</code>çš„<code>API</code>å³å¯ã€‚æ‰€æœ‰çš„<code>surface</code>åŸºæœ¬ä¸Šåªæœ‰åœ¨åˆ›å»ºçš„æ—¶å€™ä¼šæœ‰åŒºåˆ«ï¼Œåœ¨<code>context</code>é‚£ä¸€å±‚çš„ç»˜åˆ¶å‡ ä¹æ²¡æœ‰åŒºåˆ«ã€‚ä¾‹å¦‚ä¸‹é¢å°±æ˜¯<code>XLib Surface</code>çš„åˆ›å»º<code>API</code>ï¼Œå‚æ•°å…·ä½“å«ä¹‰è¯·å‚è€ƒ<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://cairographics.org/manual/cairo-XLib-Surfaces.html">å®˜æ–¹æ–‡æ¡£</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>ã€‚</p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">cairo_surface_t</span> *</span></span><br><span class="line"><span class="function"><span class="title">cairo_xlib_surface_create</span> <span class="params">(Display *dpy,</span></span></span><br><span class="line"><span class="params"><span class="function">                           Drawable drawable,</span></span></span><br><span class="line"><span class="params"><span class="function">                           Visual *visual,</span></span></span><br><span class="line"><span class="params"><span class="function">                           <span class="type">int</span> width,</span></span></span><br><span class="line"><span class="params"><span class="function">                           <span class="type">int</span> height)</span></span>;</span><br></pre></td></tr></table></div></figure><p>æŸ¥è¯¢è¯¥æ–¹æ³•éœ€è¦çš„æ¥å£å¦‚ä½•è·å–ä»¥åï¼Œç¼–å†™å‡ºå¦‚ä¸‹çš„ä»£ç ï¼š</p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;exception&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;X11/Xlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;cairo.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;cairo/cairo-xlib.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Display *dpy = <span class="built_in">XOpenDisplay</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="keyword">if</span> (!dpy)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;Failed to open X display&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> screen = <span class="built_in">DefaultScreen</span>(dpy);</span><br><span class="line">    Window w = <span class="built_in">XCreateSimpleWindow</span>(</span><br><span class="line">        dpy,</span><br><span class="line">        <span class="built_in">RootWindow</span>(dpy, <span class="built_in">DefaultScreen</span>(dpy)),</span><br><span class="line">        <span class="number">100</span>, <span class="number">100</span>, <span class="number">640</span>, <span class="number">480</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="built_in">BlackPixel</span>(dpy, screen),</span><br><span class="line">        <span class="built_in">BlackPixel</span>(dpy, screen));</span><br><span class="line">    <span class="built_in">XSelectInput</span>(dpy, w, ExposureMask);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">XMapWindow</span>(dpy, w);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Entering loop ...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¹æ® window id è·å–è¯¥çª—å£çš„ä¿¡æ¯</span></span><br><span class="line">    XWindowAttributes attr;</span><br><span class="line">    <span class="built_in">XGetWindowAttributes</span>(dpy, w, &amp;attr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»º XLib Surface</span></span><br><span class="line">    <span class="type">cairo_surface_t</span> *surface = <span class="built_in">cairo_xlib_surface_create</span>(dpy, w, attr.visual, attr.width, attr.height);</span><br><span class="line">    <span class="type">cairo_t</span> *cr = <span class="built_in">cairo_create</span>(surface);</span><br><span class="line"></span><br><span class="line">    XEvent e;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">XNextEvent</span>(dpy, &amp;e);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (e.type)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> Expose:</span><br><span class="line">            &#123;</span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;event: Expose&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ç»˜åˆ¶æ“ä½œ</span></span><br><span class="line">                <span class="built_in">cairo_set_source_rgb</span>(cr, <span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">0.5</span>);</span><br><span class="line">                <span class="built_in">cairo_paint</span>(cr);</span><br><span class="line"></span><br><span class="line">                <span class="built_in">cairo_set_source_rgb</span>(cr, <span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>);</span><br><span class="line">                <span class="built_in">cairo_move_to</span>(cr, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">                <span class="built_in">cairo_line_to</span>(cr, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">                <span class="built_in">cairo_stroke</span>(cr);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;event: &quot;</span> &lt;&lt; e.type &lt;&lt; std::endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cairo_destroy</span>(cr);</span><br><span class="line">    <span class="built_in">cairo_surface_destroy</span>(surface);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">XDestroyWindow</span>(dpy, w);</span><br><span class="line">    <span class="built_in">XCloseDisplay</span>(dpy);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><p>è¿™æ ·èƒ½åœ¨<code>Expose</code>äº‹ä»¶è§¦å‘çš„æ—¶å€™æˆåŠŸç»˜åˆ¶å‡ºæ–‡ç« å¼€å§‹æ—¶å€™å±•ç¤ºçš„å›¾æ ·ã€‚</p><h3 id="image-surface"><a href="#image-surface" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#image-surface"></a> Image Surface</h3><p><code>XLib Surface</code>çš„ä»£ç ç»“æ„çœ‹ç€å¾ˆåƒè‡ªåŠ¨æŒ¡çš„æ„Ÿè§‰ï¼Œåˆ›å»º<code>surface</code>ï¼Œåœ¨äº‹ä»¶å¾ªç¯ä¸­ç”¨<code>context</code>è¿›è¡Œç»˜åˆ¶ï¼Œæœ€ç»ˆå¾—åˆ°æƒ³è¦çš„å›¾æ¡ˆã€‚</p><p>æˆ‘ä»¬æ·±å…¥æ€è€ƒä¸€ä¸‹ï¼Œå›¾å½¢æ˜¯å¦‚ä½•è¢«ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„å‘¢ï¼Ÿå‰é¢ä¸¾äº†ä¸ªä¾‹å­ï¼Œç”»ä¸€ä¸ªåœ†ï¼Œå‘Šè¯‰<code>XServer</code>åœ¨å“ªé‡Œï¼Œç”¨ä»€ä¹ˆé¢œè‰²ï¼Œç”»å¤šå¤§ã€å¤šå®½çš„åœ†ã€‚è‡³äºå¦‚ä½•ç”¨ç¡¬ä»¶ç”»ä¸æ˜¯<code>XClient</code>å…³å¿ƒçš„äº‹æƒ…ï¼Œä½†æ˜¯å¦‚ä½•è¡¨ç¤ºè¿™äº›ä¿¡æ¯å‘¢ï¼Ÿæ˜¾ç„¶éœ€è¦ç”¨åˆé€‚çš„<code>data</code>è¿›è¡Œå­˜å‚¨ã€‚è¿›ä¸€æ­¥è®²ï¼Œ<code>context</code>è°ƒç”¨å„ç§æ–¹æ³•çš„å®é™…è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯å¾€æ•°æ®ç¼“å†²åŒº<code>data</code>ä¸­å†™æ•°æ®çš„è¿‡ç¨‹ã€‚å½“ç±»ä¼¼<code>flush</code>æ“ä½œçš„è¢«è°ƒç”¨ä»¥åï¼Œè¿™äº›æ•°æ®æ‰ä¼šçœŸæ­£åæ˜ åœ¨å±å¹•ä¸Šï¼Œå½¢æˆæˆ‘ä»¬è§‚çœ‹çš„æ•ˆæœã€‚</p><p>åœ¨è¿™æ ·çš„è¯­ä¹‰ä¸‹ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æ€è€ƒ<code>surface</code>çš„æ¦‚å¿µï¼Œå…¶å®ç”¨<strong>å¯ç»˜åˆ¶è¡¨é¢</strong>çš„æ¦‚å¿µå¥½åƒæ›´åŠ è´´åˆ‡ï¼ˆæœ¬æ¦‚å¿µå€Ÿé‰´äº<code>LarkSDK</code>çš„<code>LSurface</code>ï¼‰ã€‚ç»˜å›¾çš„æ•°æ®ç¼“å†²åŒºè®°å½•äº†å›¾å½¢çš„æ•°æ®ï¼Œç±»å‹æ˜¯<code>unsigned char *</code>ï¼Œè¿™äº›æ•°æ®å’Œä¸åŒçš„è¾“å‡ºæ–¹å¼å¯¹æ¥å°±èƒ½è¾¾åˆ°ä¸åŒçš„è¾“å‡ºæ•ˆæœã€‚è‡³äºä¸ºä»€ä¹ˆæ˜¯<code>unsigned char *</code>ï¼ˆæˆ‘çŒœæµ‹å¤§æ¦‚æ˜¯å­—èŠ‚æµï¼‰ä»¥åŠå¦‚ä½•å¯¹æ¥ï¼Œè¿™ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œæœ‰å…´è¶£è¯·è‡ªå·±æŸ¥è¯¢èµ„æ–™ã€‚</p><p>çŸ¥é“è¿™ä¸ªè¿‡ç¨‹ä»¥åï¼Œå›åˆ°<code>Image Surface</code>æœ¬èº«ï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œæ˜¯å› ä¸ºå®ƒä¸ºæˆ‘ä»¬æä¾›äº†è·å–æ•°æ®çš„æ¥å£ã€‚ä¹Ÿå°±æ˜¯å½“æˆ‘ç”¨<code>context</code>ç»˜åˆ¶ä»¥åï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±èƒ½ç«‹åˆ»æ‹¿åˆ°ç¼“å†²åŒºçš„æ•°æ®ã€‚</p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">char</span> *</span></span><br><span class="line"><span class="function"><span class="title">cairo_image_surface_get_data</span> <span class="params">(<span class="type">cairo_surface_t</span> *surface)</span></span>;</span><br></pre></td></tr></table></div></figure><p>ç„¶åè®©æˆ‘ä»¬æ€è€ƒä¸€ä¸‹ç»˜åˆ¶æ•ˆç‡ã€‚ä¸åŒå¼•æ“çš„æ•ˆç‡çš„åŒºåˆ«æ ¹æœ¬ä¸Šå°±æ˜¯åœ¨äºå¦‚ä½•å¿«é€Ÿçš„æŠŠè¿™äº›æ•°æ®è®¡ç®—å‡ºæ¥ï¼Œæˆ–è€…æ¢å¥è¯è®²ï¼Œå¦‚ä½•å¿«é€Ÿåœ°è®©ç¼“å†²åŒºçš„å†…å­˜å¡«å……ä¸ºæŒ‡å®šçš„æ•°æ®ã€‚æ¯”å¦‚å¯¹äºæœ€åŸºæœ¬çš„æš´åŠ›è½¯æ¸²æŸ“å’Œ<code>cairo</code>å¼•æ“ï¼Œä»–ä»¬çš„æ•ˆç‡å·®è·æ˜¾ç„¶æ˜¯éå¸¸å¤§çš„ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­å¯ä»¥å‚è€ƒï¼Œæ˜¯<code>LarkSDK</code>åŸç”Ÿè½¯æ¸²æŸ“å’Œ<code>cairo</code>å¼•æ“åŒæ ·ç»˜åˆ¶<code>10000</code>æ¡æ–œçº¿çš„æ•ˆç‡å·®è·ï¼Œä»¥ä¸‹æ˜¯ç»“æœï¼Œä¿å®ˆä¼°è®¡è‡³å°‘å·®äº†å‡ ç™¾åˆ°ä¸€åƒå€ã€‚</p><img class="lazyload lazyload-gif" src="/images/loading.svg" data-src="https://cdn.davidingplus.cn/images/2025/02/01/image-20240716155335456.png" alt="image-20240716155335456" style="zoom:80%"><p>å›åˆ°æ­£é¢˜ï¼Œå†ç»“åˆ<code>X11</code>çš„<code>API</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºä½¿ç”¨<code>Image Surface</code>çš„ä»£ç ï¼š</p><figure class="highlight cpp"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;exception&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;X11/Xlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;cairo.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Display *dpy = <span class="built_in">XOpenDisplay</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="keyword">if</span> (!dpy)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;Failed to open X display&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> screen = <span class="built_in">DefaultScreen</span>(dpy);</span><br><span class="line">    Window w = <span class="built_in">XCreateSimpleWindow</span>(</span><br><span class="line">        dpy,</span><br><span class="line">        <span class="built_in">RootWindow</span>(dpy, <span class="built_in">DefaultScreen</span>(dpy)),</span><br><span class="line">        <span class="number">100</span>, <span class="number">100</span>, <span class="number">640</span>, <span class="number">480</span>, <span class="number">0</span>,</span><br><span class="line">        <span class="built_in">BlackPixel</span>(dpy, screen),</span><br><span class="line">        <span class="built_in">BlackPixel</span>(dpy, screen));</span><br><span class="line">    <span class="built_in">XSelectInput</span>(dpy, w, ExposureMask);</span><br><span class="line"></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> mask = <span class="number">0</span>;</span><br><span class="line">    XGCValues values;</span><br><span class="line">    GC gc = <span class="built_in">XCreateGC</span>(dpy, w, mask, &amp;values);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">XMapWindow</span>(dpy, w);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»º Image Surface</span></span><br><span class="line">    <span class="type">cairo_surface_t</span> *surface = <span class="built_in">cairo_image_surface_create</span>(CAIRO_FORMAT_ARGB32, <span class="number">640</span>, <span class="number">480</span>);</span><br><span class="line">    <span class="type">cairo_t</span> *cr = <span class="built_in">cairo_create</span>(surface);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å¾— Cairo ç®¡ç†çš„ç»˜å›¾æ•°æ®çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> *pData = <span class="built_in">cairo_image_surface_get_data</span>(surface);</span><br><span class="line">    <span class="comment">// åˆ›å»º X11 ä¸‹çš„ Image Buffer ï¼Œå°†å…¶ä¸­çš„æ•°æ®æ›¿æ¢ä¸º Cairo çš„æ•°æ®æŒ‡é’ˆ</span></span><br><span class="line">    XImage *pBackBuffer = <span class="built_in">XCreateImage</span>(</span><br><span class="line">        dpy,</span><br><span class="line">        <span class="built_in">DefaultVisual</span>(dpy, screen),</span><br><span class="line">        <span class="built_in">DefaultDepth</span>(dpy, screen),</span><br><span class="line">        ZPixmap,</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        (<span class="type">char</span> *)pData,</span><br><span class="line">        <span class="number">640</span>, <span class="number">480</span>,</span><br><span class="line">        <span class="number">8</span>,</span><br><span class="line">        <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Entering loop ...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    XEvent e;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">XNextEvent</span>(dpy, &amp;e);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (e.type)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> Expose:</span><br><span class="line">            &#123;</span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;event: Expose&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">cairo_set_source_rgb</span>(cr, <span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">0.5</span>);</span><br><span class="line">                <span class="built_in">cairo_paint</span>(cr);</span><br><span class="line"></span><br><span class="line">                <span class="built_in">cairo_set_source_rgb</span>(cr, <span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>);</span><br><span class="line">                <span class="built_in">cairo_move_to</span>(cr, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">                <span class="built_in">cairo_line_to</span>(cr, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">                <span class="built_in">cairo_stroke</span>(cr);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// flush æ“ä½œï¼Œåˆ·æ–°ç¼“å†²åŒºï¼Œæ›´æ–°æ•°æ®</span></span><br><span class="line">                <span class="built_in">cairo_surface_flush</span>(surface);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// X11 ä¸‹çœŸæ­£ç»˜åˆ¶å›¾å½¢çš„æ–¹æ³•ï¼Œç”¨åˆ°äº†å¤–é¢å®šä¹‰çš„ X11 Image Bufferï¼Œè€Œå…¶å†…éƒ¨çš„æ•°æ®å°±æ˜¯ Cairo ç®¡ç†çš„ç¼“å†²åŒºæ•°æ®</span></span><br><span class="line">                <span class="built_in">XPutImage</span>(</span><br><span class="line">                    dpy,</span><br><span class="line">                    w,</span><br><span class="line">                    gc,</span><br><span class="line">                    pBackBuffer,</span><br><span class="line">                    <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">                    <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">                    <span class="number">640</span>, <span class="number">480</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;event: &quot;</span> &lt;&lt; e.type &lt;&lt; std::endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cairo_destroy</span>(cr);</span><br><span class="line">    <span class="built_in">cairo_surface_destroy</span>(surface);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">XDestroyWindow</span>(dpy, w);</span><br><span class="line">    <span class="built_in">XCloseDisplay</span>(dpy);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†åœ¨<code>X11</code>ä¸‹ä½¿ç”¨<code>Cairo</code>å¼•æ“ç»˜åˆ¶å›¾å½¢çš„å…¨éƒ¨è¿‡ç¨‹ã€‚<code>Windows</code>çš„ç¨‹åºæ¶æ„å’Œäº‹ä»¶å¾ªç¯æœ‰æ‰€åŒºåˆ«ï¼Œä½†æ€è·¯æ˜¯ç›¸åŒçš„ã€‚å½“ç„¶ï¼Œè¿™ä»…ä»…æ˜¯é˜è¿°äº†åŸºæœ¬è¿‡ç¨‹ï¼Œè¿˜æœ‰æ›´å¤šçš„ç»†èŠ‚å€¼å¾—ç ”ç©¶å’Œæ¢è®¨ã€‚</p></div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ æœ¬æ–‡ç»“æŸï¼Œæ„Ÿè°¢æ‚¨çš„é˜…è¯» ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">æœ¬æ–‡ä½œè€…: </span><span class="copyright-author__value"><a href="https://blog.davidingplus.cn">DavidingPlus</a></span></div><div class="copyright-link"><span class="copyright-link__name">æœ¬æ–‡é“¾æ¥: </span><span class="copyright-link__value"><a href="https://blog.davidingplus.cn/posts/70513923.html">https://blog.davidingplus.cn/posts/70513923.html</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">ç‰ˆæƒå£°æ˜: </span><span class="copyright-notice__value">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</span></div></div><div class="post-reward reward"><div class="reward-button">å¤§çˆ·ï¼Œèµä¸ªé“œæ¿å‘—~~~</div><div class="reward-qrcode"><span class="reward-qrcode-alipay"><img class="reward-qrcode-alipay__img" src="/images/reward/alipay.webp"><div class="reward-qrcode-alipay__text">æ”¯ä»˜å®</div></span><span class="reward-qrcode-wechat"><img class="reward-qrcode-wechat__img" src="/images/reward/wechat-pay.webp"><div class="reward-qrcode-wechat__text">å¾®ä¿¡</div></span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/posts/a98e1d5b.html"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">ä½¿ç”¨ Woboq CodeBrowser æ­å»ºæºä»£ç ç½‘ç«™</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/posts/642c4108.html"><span class="paginator-prev__text">tips</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div><div class="comments" id="comments"><div id="utterances-container"></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">æ–‡ç« ç›®å½•</span><span class="sidebar-nav-ov">ç«™ç‚¹æ¦‚è§ˆ</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85cairo%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">å®‰è£…Cairoåº“</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%E5%AE%89%E8%A3%85"><span class="toc-number">1.1.</span> <span class="toc-text">é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87conan%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.</span> <span class="toc-text">é€šè¿‡Conanå®‰è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85cairo"><span class="toc-number">1.2.1.</span> <span class="toc-text">å°è¯•å®‰è£…Cairo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Econan%E5%8C%85"><span class="toc-number">1.2.2.</span> <span class="toc-text">å…³äºConanåŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E9%94%99%E8%AF%AF%E5%B9%B6%E5%90%90%E6%A7%BD"><span class="toc-number">1.2.3.</span> <span class="toc-text">è§£å†³é”™è¯¯ï¼ˆå¹¶åæ§½ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-number">1.2.4.</span> <span class="toc-text">è¡¥å……</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8cairo%E5%BA%93%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2"><span class="toc-number">2.</span> <span class="toc-text">ä½¿ç”¨Cairoåº“ç»˜åˆ¶å›¾å½¢</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#linux-gui%E8%83%8C%E6%99%AF%E7%AE%80%E8%BF%B0"><span class="toc-number">2.1.</span> <span class="toc-text">Linux GUIèƒŒæ™¯ç®€è¿°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85x11%E5%B9%B6%E7%BC%96%E5%86%99gui%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.2.</span> <span class="toc-text">å®‰è£…X11å¹¶ç¼–å†™GUIç¨‹åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%9D%E8%AF%95%E5%BC%95%E5%85%A5cairo"><span class="toc-number">2.3.</span> <span class="toc-text">å°è¯•å¼•å…¥Cairo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cairo%E5%92%8Cx11%E7%9B%B8%E7%BB%93%E5%90%88"><span class="toc-number">2.4.</span> <span class="toc-text">Cairoå’ŒX11ç›¸ç»“åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#xlib-surface"><span class="toc-number">2.4.1.</span> <span class="toc-text">XLib Surface</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#image-surface"><span class="toc-number">2.4.2.</span> <span class="toc-text">Image Surface</span></a></li></ol></li></ol></li></ol></section><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/assets/android-chrome-512x512.webp" alt="avatar"></div><p class="sidebar-ov-author__text">Self-discipline is key in life.</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/DavidingPlus" target="_blank" rel="noopener" data-popover="GitHub" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="/qq/" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a><a class="sidebar-ov-social-item" href="/wechat/" target="_blank" rel="noopener" data-popover="å¾®ä¿¡" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-weixin"></i></span></a><a class="sidebar-ov-social-item" href="mailto:davidingplus@qq.com" target="_blank" rel="noopener" data-popover="davidingplus@qq.com" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fas fa-envelope"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">38</div><div class="sidebar-ov-state-item__name">å½’æ¡£</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">21</div><div class="sidebar-ov-state-item__name">åˆ†ç±»</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="çŸ¥è¯†å…±äº«è®¸å¯åè®®" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">æ‚¨å·²é˜…è¯»äº† </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright Â© 2023~2025</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>DavidingPlus</span><span class="footer__devider">|</span><span>èœ€ ICP å¤‡ 2024088070 å·</span></div><div><span>ç”± <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> å¼ºåŠ›é©±åŠ¨</span><span> v7.2.0</span><span class="footer__devider">|</span><span>ä¸»é¢˜ - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.6</span></div><div class="busuanzi"><span class="busuanzi-siteuv"><span class="busuanzi-siteuv__icon"><i class="fas fa-user"></i></span><span class="busuanzi-siteuv__info">è®¿é—®äººæ•°</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_uv"></span></span><span class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon"><i class="fas fa-eye"></i></span><span class="busuanzi-siteuv__info">æµè§ˆæ€»é‡</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_pv"></span></span></div><div><span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><script>var now=new Date;function createtime(){var n=new Date("09/18/2023 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="å°ç ´ç«™å·²ç»å®‰å…¨è¿è¡Œ "+dnum+" å¤© ",document.getElementById("times").innerHTML=hnum+" å°æ—¶ "+mnum+" åˆ† "+snum+" ç§’å•¦ï¼"}setInterval("createtime()",250)</script></div><script type="text/javascript" id="maid-script" mermaidoptioins="{&quot;theme&quot;:&quot;default&quot;}" src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/mermaid.min.js"></script><script>if(window.mermaid){var options=JSON.parse(document.getElementById("maid-script").getAttribute("mermaidoptioins"));mermaid.initialize(options)}</script></div></footer><div class="loading-animation" id="loading-animation"><div class="loading-animation__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-thumbs-up"></i></span></div><div class="back2bottom" id="back2bottom"><span class="back2bottom__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="æœç´¢æ–‡ç« ï¼ˆæ”¯æŒå¤šå…³é”®è¯ï¼Œè¯·ç”¨ç©ºæ ¼åˆ†éš”ï¼‰"><div class="search-btns">ä½¿ç”¨æœç´¢ï¼š<span class="search-btns-item search-btns-item--bing"><i></i>å¿…åº”</span><span class="search-btns-item search-btns-item--baidu"><i></i>ç™¾åº¦</span></div></div><div class="search-results"></div></div><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/jquery.js"></script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/velocity.js"></script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/velocity-ui.js"></script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/canvas-nest.js" color="255,255,255" opacity="1" count="99" zindex="-1"></script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/fancybox.js"></script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/masonry.js"></script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/lazyload.js"></script><script>function initSearch(){var e=!0,t="search.json";t?/json$/i.test(t)&&(e=!1):t="search.xml";var n="/"+t;$.ajax({url:n,dataType:e?"xml":"json",async:!0,success:function(t){var n=e?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,o=$(".search-input input"),i=$(".search-results"),c=100,r=1,a=function(){var e=o.val().toLowerCase().trim(),t=e.split(/[\s]+/),a=[];t.length>1&&t.push(e),e.length>0&&n.forEach(function(e){var n=!1,o=e.title&&e.title.trim()||"[ æ–‡ç« æ— æ ‡é¢˜ ]",i=o&&o.toLowerCase(),s=e.content&&e.content.replace(/<[^>]+>/g,""),l=s&&s.toLowerCase(),u=e.url&&decodeURI(e.url).replace(/\/{2,}/g,"/"),h=[],d=[];t.forEach(function(e){function t(e,t,n,o){if(!e||!t)return[];var i=0,c=-1,r=[];for(n||(e=e.toLowerCase(),t=t.toLowerCase());-1!==(c=t.indexOf(e,i));){var a=!1;h.forEach(function(t){t.index===c&&t.word.length<e.length&&(t.word=e,a=!0)}),i=c+e.length,!a&&r.push({index:c,word:e,weight:o})}return r}h=h.concat(t(e,i,!1,c)),d=d.concat(t(e,l,!1,r))});var f=h.length,p=d.length;if((f>0||p>0)&&(n=!0),n){function w(e,t,n,o){if(e&&t&&t.length){var i="",c=n,r=o;return t.forEach(function(t){if(!(t.index<c)){var n=t.index+t.word.length;i+=e.slice(c,t.index),i+="<b>"+e.slice(t.index,n)+"</b>",c=n}}),i+=e.slice(c,r)}}[h,d].forEach(function(e){e.sort(function(e,t){return e.index-t.index})});var v,g={},x=h.length*c+d.length*r,y=w(o,h,0,o.length)||o;if(d.length>0){var S=d[0].index;v=w(s,d,S>20?S-20:0,S+180)}else v=s.slice(0,200);g.title=y,g.content=v,g.url=u,g.weight=x,a.push(g)}});var s="";a.length?(a.sort(function(e,t){return t.weight-e.weight}),s+="<ul>",a.forEach(function(e){s+='<li><a class="search-results-title" href="'+e.url+'">',s+=e.title,s+='</a><div class="search-results-content">',s+=e.content,s+="</div></li>"}),s+="</ul>"):s+='<div class="search-results-none"><i class="far fa-meh"></i></div>',i.html(s)};o.on("input",a),o.on("keyup",function(e){e.keyCode===Stun.utils.codeToKeyCode("Enter")&&a()})}})}function closeSearch(){$("body").css({overflow:"auto"}),$(".search-popup").css({display:"none"}),$(".search-mask").css({display:"none"})}function safeOpenUrl(e){var t=window.open();t.opener=null,t.location=e}function extSearch(e){var t=window.location.host,n=$(".search-input input").val().toLowerCase().trim();n?safeOpenUrl({google:"https://www.google.com/search?q=",bing:"https://cn.bing.com/search?q=",baidu:"https://www.baidu.com/s?ie=UTF-8&wd="}[e]+n+" site:"+t):Stun.utils.popAlert("warning","è¯·è¾“å…¥å­—ç¬¦")}window.addEventListener("DOMContentLoaded",function(){Stun.utils.pjaxReloadLocalSearch=function(){$(".header-nav-search").on("click",function(e){e.stopPropagation(),$("body").css("overflow","hidden"),$(".search-popup").velocity("stop").velocity("transition.expandIn",{duration:300,complete:function(){$(".search-popup input").focus()}}),$(".search-mask").velocity("stop").velocity("transition.fadeIn",{duration:300}),initSearch()}),$(".search-mask, .search-close").on("click",function(){closeSearch()}),$(document).on("keydown",function(e){e.keyCode===Stun.utils.codeToKeyCode("Escape")&&closeSearch()})},Stun.utils.pjaxReloadLocalSearch()},!1);var assistSearchList=window.CONFIG.assistSearch;Array.isArray(assistSearchList)&&assistSearchList.forEach(function(e){document.querySelector(".search-btns-item--"+e).addEventListener("click",function(){extSearch(e)},!1)})</script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/pjax.js"></script><script>window.addEventListener("DOMContentLoaded",function(){new Pjax({selectors:["head title","#main",".pjax-reload",".header-banner"],history:!0,scrollTo:!1,scrollRestoration:!1,cacheBust:!1,debug:!1,currentUrlFullReload:!1,timeout:0});document.addEventListener("pjax:send",function(){$(".header-nav-menu").removeClass("show"),CONFIG.pjax&&CONFIG.pjax.avoidBanner&&$("html").velocity("scroll",{duration:500,offset:$("#header").height(),easing:"easeInOutCubic"}),$(".loading-animation").addClass("loading")},!1),window.addEventListener("pjax:complete",function(){if($(".loading-animation").removeClass("loading"),$("link[rel=prefetch], script[data-pjax-rm]").each(function(){$(this).remove()}),$("script[data-pjax], #pjax-reload script").each(function(){$(this).parent().append($(this).remove())}),Stun.utils.pjaxReloadBoot&&Stun.utils.pjaxReloadBoot(),Stun.utils.pjaxReloadScroll&&Stun.utils.pjaxReloadScroll(),Stun.utils.pjaxReloadSidebar&&Stun.utils.pjaxReloadSidebar(),"undefined"!=typeof mermaid){const e=Array.from(document.querySelectorAll(".mermaid")).filter(e=>!e.dataset.processed);mermaid.init(void 0,e)}},!1)},!1)</script><div id="pjax-reload"><link href="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/css/katex.min.css" rel="stylesheet" type="text/css"><link href="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/css/copy-tex.css" rel="stylesheet" type="text/css"><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/copy-tex.min.js"></script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/quicklink.js"></script><script>function initQuicklink(){quicklink({timeout:"10000",priority:!0,ignores:[i=>i.includes("#"),i=>"https://blog.davidingplus.cn/posts/70513923.html"===i,/\/api\/?/,i=>i.includes(".xml"),i=>i.includes(".zip"),(i,t)=>t.hasAttribute("nofollow"),(i,t)=>t.hasAttribute("noprefetch")]})}initQuicklink()</script><script src="//cdn.davidingplus.cn/files/hexo-theme-stun-third-party/js/busuanzi.js" async></script></div><script src="/js/utils.js?v=2.8.6"></script><script src="/js/stun-boot.js?v=2.8.6"></script><script src="/js/scroll.js?v=2.8.6"></script><script src="/js/header.js?v=2.8.6"></script><script src="/js/sidebar.js?v=2.8.6"></script><script type="application/json" src="/search.json"></script><script data-pjax="">function loadUtterances(){var t=document,e=t.createElement("script"),s=t.getElementById("utterances-container"),r=Stun.utils.getNightMode()?"photon-dark":"github-light";s&&(e.src="https://utteranc.es/client.js",e.setAttribute("repo","DavidingPlus/blog-comments"),e.setAttribute("issue-term","title"),e.setAttribute("label","utterances"),e.setAttribute("theme",r),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),e.setAttribute("data-pjax-rm",""),s.append(e))}loadUtterances()</script><script async src="/js/cursor/text.js"></script><script src="/js/activate-power-mode.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,document.body.addEventListener("input",POWERMODE)</script><script>var titleTime,OriginTitile=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="ğŸ¤¡å¿«å›æ¥,ç²—å¤§äº‹äº†~~"+OriginTitile,clearTimeout(titleTime)):(document.title="ğŸ˜šæ¬¢è¿å›æ¥!~"+OriginTitile,titleTime=setTimeout(function(){document.title=OriginTitile},2e3))})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/wanko.model.json"},display:{position:"left",width:160,height:290},mobile:{show:!0},log:!1})</script></body></html>